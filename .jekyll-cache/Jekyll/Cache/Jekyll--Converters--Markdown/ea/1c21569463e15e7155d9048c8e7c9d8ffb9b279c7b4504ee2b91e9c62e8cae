I"¹7<h2 id="lexical-analysis">Lexical Analysis</h2>

<ul>
  <li>è¯æ³•åˆ†æ
    <ul>
      <li>å°†ä»£ç åˆ†è§£æˆtoken.</li>
    </ul>
  </li>
  <li>Token Classï¼ˆTokençš„ç±»å‹ï¼‰:
    <ul>
      <li>Identifier:ä»¥è‹±æ–‡å­—æ¯å¼€å¤´, <code class="highlighter-rouge">A1,Foo,B17</code>,â€¦.</li>
      <li>Integer:ä¸€ä¸²éç©ºçš„æ•°å­—, <code class="highlighter-rouge">0,12,001</code>,â€¦</li>
      <li>keyword:<code class="highlighter-rouge">if,else,begin</code>,â€¦</li>
      <li>whitespace: ç©ºæ ¼ï¼Œæ¢è¡Œï¼Œtabç­‰</li>
    </ul>
  </li>
  <li>Tokenæ ¼å¼ï¼š
    <ul>
      <li><code class="highlighter-rouge">&lt;class:string&gt;</code></li>
    </ul>
  </li>
  <li>LAçš„è¾“å…¥æ˜¯ä¸€ä¸²å­—ç¬¦ä¸²ï¼ŒLAè¾“å‡ºçš„æ˜¯ä¸€ç³»åˆ—tokençš„æ•°ç»„
    <ul>
      <li>ä¾‹å¦‚è¾“å…¥æ˜¯: foo=42;</li>
      <li>è¾“å‡ºæ˜¯:<code class="highlighter-rouge">&lt;identifier,"foo"&gt;,	&lt;op,"="&gt;, &lt;int,"42"&gt;</code></li>
      <li>ç±»ä¼¼çš„ä¾‹å­å¯ä»¥å‚è€ƒ<a href="http://akadealloc.github.io/blog/2013/03/20/LLVM-1.html">LLVM</a></li>
    </ul>
  </li>
  <li>æ€»ç»“ä¸€ä¸‹LAè¦åšä¸¤ä»¶äº‹ï¼š
    <ul>
      <li>æ£€æŸ¥substringä¸­åŒ…å«çš„token</li>
      <li>æ¯ä¸ªtokenç”Ÿæˆ<code class="highlighter-rouge">&lt;class:string&gt;</code>çš„æ ¼å¼</li>
    </ul>
  </li>
</ul>

<h3 id="lexical-analysis-example">Lexical Analysis example</h3>

<ul>
  <li>FORTRAN :
    <ul>
      <li>ç©ºæ ¼ä¸è®°å…¥token
        <ul>
          <li><code class="highlighter-rouge">VA R1</code> = <code class="highlighter-rouge">VAR1</code></li>
          <li><code class="highlighter-rouge">DO 5 I = 1.25</code>çš„æ„æ€æ˜¯å˜é‡<code class="highlighter-rouge">DO51</code>çš„å€¼ä¸º1.25</li>
        </ul>
      </li>
      <li>åœ¨FORTRANä¸­ï¼Œå¾ªç¯ï¼š<code class="highlighter-rouge">DO 5 I = 1,25</code> æ„æ€æ˜¯åœ¨DOç¬¦å·å¼€å§‹å¤„å’Œç¬¦å·5(ç±»ä¼¼gotoçš„label)ä¹‹é—´çš„è¯­å¥æ˜¯å¾ªç¯ä½“,å˜é‡ä»Içš„å€¼ä»1åˆ°25</li>
      <li>é—®é¢˜: LAæ˜¯å¦‚ä½•åˆ¤æ–­ç­‰å·å·¦è¾¹æ˜¯å˜é‡èµ‹å€¼è¯­å¥è¿˜æ˜¯å¾ªç¯è¯­å¥ï¼Ÿ
        <ul>
          <li>LAæ£€æµ‹tokençš„é¡ºåºæ˜¯ä»å·¦åˆ°å³ï¼Œè¿™æ—¶å®ƒæ¶‰åŠåˆ° look ahead,å½“LAå‘ç°DOæ—¶ï¼Œå®ƒä¼šlook aheadå»çœ‹ç­‰å·åé¢æ˜¯é€—å·è¿˜æ˜¯ç‚¹ã€‚ç±»ä¼¼çš„æƒ…å†µè¿˜æœ‰<code class="highlighter-rouge">if,else</code>ç­‰è¿™ç§å…³é”®å­—ï¼Œ<code class="highlighter-rouge">=,==</code>è¿™ç§æ“ä½œç¬¦ï¼Œå½“LAæ£€æµ‹åˆ°é¦–å­—æ¯æ—¶å¹¶ä¸èƒ½ç¡®å®šå®ƒæ˜¯å˜é‡åç§°è¿˜æ˜¯å…³é”®å­—æˆ–æ“ä½œç¬¦ï¼Œå› æ­¤LAéœ€è¦look aheadã€‚</li>
          <li>å› æ­¤åœ¨è®¾è®¡LAçš„æ—¶å€™è¦å°½é‡é¿å…è¿™ç§look aheadï¼Œä¼šå½±å“æ€§èƒ½ã€‚</li>
        </ul>
      </li>
      <li>FORTRANæœ‰è¿™ç§funny ruleï¼Œæ˜¯å› ä¸ºé‚£ä¸ªæ—¶å€™å¾ˆå®¹æ˜“ä¸å°å¿ƒæ‰“å‡ºç©ºæ ¼</li>
    </ul>
  </li>
  <li>C++:
    <ul>
      <li>C++çš„æ¨¡ç‰ˆè¯­æ³•ï¼š<code class="highlighter-rouge">Foo&lt;Bar&gt;</code></li>
      <li>C++çš„IOè¾“å…¥è¯­æ³•ï¼š<code class="highlighter-rouge">cin&gt;&gt;var</code></li>
      <li>å¦‚æœç¢°åˆ°:<code class="highlighter-rouge">Foo&lt;Bar&lt;Bazz&gt;&gt;</code>æ€ä¹ˆåŠï¼Ÿ, æœ€åçš„<code class="highlighter-rouge">&gt;&gt;</code>æ€ä¹ˆåˆ¤æ–­å‘¢ï¼Ÿ</li>
      <li>C++çš„LAè§£å†³åŠæ³•æ˜¯ï¼Œè®©developeræ‰‹åŠ¨åŠ ä¸€ä¸ªç©ºæ ¼ï¼š<code class="highlighter-rouge">Foo&lt;Bar&lt;Bazz&gt; &gt;</code>(ç°åœ¨çš„ç¼–è¯‘å™¨å·²ç»ä¿®å¤äº†è¯¥é—®é¢˜)</li>
    </ul>
  </li>
</ul>

<h2 id="regular-languages">Regular Languages</h2>

<ul>
  <li>Lexical structure = token classes
    <ul>
      <li>each one of the token classes contains a set of strings</li>
    </ul>
  </li>
  <li>We must say what set of strings is in a token class
    <ul>
      <li>å½“æ‹¿åˆ°äº†nå¤šä¸ªtokenä¹‹åï¼Œéœ€è¦ç”¨æ­£åˆ™å¼åŒ¹é…å‡ºè¯¥tokenå±äºé‚£ç§ç±»å‹(token class)</li>
      <li>å¯»æ‰¾token classçš„æ–¹æ³•ä¸€èˆ¬æ˜¯ä½¿ç”¨<em>regular langauages</em></li>
    </ul>
  </li>
  <li>ä»€ä¹ˆæ˜¯Regular Language:
    <ul>
      <li><a href="https://zh.wikipedia.org/wiki/%E6%AD%A3%E5%88%99%E8%AF%AD%E8%A8%80">æ­£åˆ™è¯­è¨€</a></li>
      <li>å®šä¹‰Regular Languageæ˜¯é€šè¿‡ä¸€ç³»åˆ—æ­£åˆ™è¡¨è¾¾å¼æ¥æ„æˆçš„(Regular Expression):
        <ul>
          <li>æ¯ä¸€ç§æ­£åˆ™è¡¨è¾¾å¼ä»£è¡¨ä¸€ç§å­—ç¬¦é›†ï¼Œæœ‰ä¸¤ç§åŸºæœ¬çš„å­—ç¬¦é›†ï¼š
            <ul>
              <li>Single character:
                <ul>
                  <li><code class="highlighter-rouge">'c' = {"c"}</code>:è¡¨ç¤ºåªå«æœ‰è¿™ä¸ªå­—ç¬¦çš„å­—ç¬¦é›†</li>
                </ul>
              </li>
              <li>Epsilon:
                <ul>
                  <li><code class="highlighter-rouge">Îµ = {""}</code>: è¡¨ç¤ºåªåŒ…å«ä¸€ä¸ªç©ºå­—ç¬¦ä¸²çš„å­—ç¬¦é›†</li>
                  <li>æ³¨æ„<code class="highlighter-rouge">Îµ</code>ä¸ç­‰äº<code class="highlighter-rouge">o(empty)</code></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>é™¤äº†è¿™ä¸¤ç§åŸºæœ¬çš„å­—ç¬¦é›†å¤–ï¼Œè¿˜æœ‰ä¸‰ç§ç»„åˆå‹çš„å­—ç¬¦é›†:
            <ul>
              <li>Union
                <ul>
                  <li><code class="highlighter-rouge">A+B = {a|a&lt;A} or {b|b&lt;B}</code></li>
                </ul>
              </li>
              <li>Concatenation
                <ul>
                  <li><code class="highlighter-rouge">AB = {ab|a&lt;A and b&lt;B}</code></li>
                </ul>
              </li>
              <li>Iteration
                <ul>
                  <li><code class="highlighter-rouge">A*</code> = <code class="highlighter-rouge">AAA....A</code>(é‡å¤iæ¬¡)</li>
                  <li>å¦‚æœ<code class="highlighter-rouge">i=0</code>ï¼Œé‚£ä¹ˆä¸Šé¢å¼å­å˜æˆ<code class="highlighter-rouge">A0</code>ï¼Œ<code class="highlighter-rouge">A0 = e(Epsilon) = {""}</code></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>æ­£åˆ™è¡¨è¾¾å¼ï¼šåœ¨æŸä¸ªå­—ç¬¦é›†(å‡å¦‚ä¸ºZ)ä¸Šï¼Œæœ‰ä¸€ä¸ªæœ€å°çš„è¡¨è¾¾å¼é›†åˆï¼Œé€šè¿‡è¿™ä¸ªé›†åˆå¯ä»¥è¡¨å¾Zä¸Šä»»æ„å­—ç¬¦çš„ç»„åˆï¼ˆå¯èƒ½çš„å‡ºç°æƒ…å†µï¼‰ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„yè¯­æ³•ï¼ˆgrammarï¼‰å¦‚ä¸‹
            <ul>
              <li>Baes cases
                <ul>
                  <li>R = <code class="highlighter-rouge">Îµ</code> = <code class="highlighter-rouge">{""}</code>(epsilon)</li>
                  <li>R = {<code class="highlighter-rouge">c</code>}, cå±äºæŸä¸ªå­—ç¬¦é›†<code class="highlighter-rouge">Z</code>ï¼Œä¾‹å¦‚å­—æ¯è¡¨</li>
                </ul>
              </li>
              <li>Three compound expressions
                <ul>
                  <li>Union:  <code class="highlighter-rouge">R = R+R</code></li>
                  <li>Concatenation: <code class="highlighter-rouge">R = RR</code></li>
                  <li>Iteration: <code class="highlighter-rouge">R = R*</code></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>æ­£åˆ™è¡¨è¾¾å¼çš„ä¾‹å­:
            <ul>
              <li>å‡è®¾å­—ç¬¦é›†<code class="highlighter-rouge">Z = {0,1}</code>
                <ul>
                  <li><code class="highlighter-rouge">1*</code> è¡¨ç¤º <code class="highlighter-rouge">""</code> + <code class="highlighter-rouge">1</code> + <code class="highlighter-rouge">11</code> + <code class="highlighter-rouge">111</code> + <code class="highlighter-rouge">111...1</code>(iæ¬¡) = all strings of 1â€™sï¼Œæ„æ€æ˜¯<code class="highlighter-rouge">1*</code>è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥è¡¨ç¤ºæ‰€æœ‰1çš„å­—ç¬¦ã€‚</li>
                  <li><code class="highlighter-rouge">(1+0)1</code>ç­‰ä»·äº<code class="highlighter-rouge">{ab|a&lt;1+0 and b&lt;1}</code> = <code class="highlighter-rouge">{11,01}</code>ï¼Œæ„æ€æ˜¯<code class="highlighter-rouge">(1+0)1</code>è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥è¡¨ç¤º<code class="highlighter-rouge">{11,01}</code>è¿™ä¸¤ç§æƒ…å†µçš„å­—ç¬¦ä¸²</li>
                  <li><code class="highlighter-rouge">(0+1)*</code> = <code class="highlighter-rouge">"" + (0+1) + (0+1)(0+1) + ... + (0+1)...(0+1) </code> = all string of 1â€™s and 0â€™sã€‚æ„æ€æ˜¯è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥è¡¨ç¤ºå­—ç¬¦é›†Zçš„ä»»æ„å­—ç¬¦ç»„åˆã€‚</li>
                  <li>è¡¨å¾åŒä¸€å­—ç¬¦é›†çš„æ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸æ­¢ä¸€ä¸ªï¼Œä¾‹å¦‚ç¬¬1ä¸ªä¾‹å­<code class="highlighter-rouge">1*</code>ä¹Ÿå¯ä»¥å†™ä½œ<code class="highlighter-rouge">1* +1 </code>ç¬¬2ä¸ªä¾‹å­ä¹Ÿå¯ä»¥å†™ä½œ<code class="highlighter-rouge">11+10</code>ã€‚</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>å°ç»“
    <ul>
      <li>æ­£åˆ™è¡¨è¾¾å¼æ˜¯å®šä¹‰æ­£åˆ™è¯­è¨€çš„åŸºç¡€</li>
      <li>æ­£åˆ™è¡¨è¾¾å¼çš„åŸºç¡€è¯­æ³•æœ‰5æ¡
        <ul>
          <li>Two base cases
            <ul>
              <li>an empty character - Îµ</li>
              <li>a single character</li>
            </ul>
          </li>
          <li>Three compound expressions
            <ul>
              <li>union, concatenation, iteration</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="formal-languages">Formal Languages</h2>

<ul>
  <li>Formal languageæ˜¯è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ç†è®ºçš„åŸºç¡€ï¼Œä¸Šä¸€èŠ‚æåˆ°çš„Regular Languageä¹Ÿæ˜¯æ˜¯Formal Languageçš„ä¸€ç§</li>
  <li>å®šä¹‰
    <ul>
      <li>å‡è®¾ $\sum$ æ˜¯ä¸€ä¸ªå­—ç¬¦é›†ï¼ŒFormal Languagesæ˜¯æŒ‡å»ºç«‹åœ¨è¿™ä¸ªå­—ç¬¦é›†ä¹‹ä¸Šçš„è¯­è¨€
        <ul>
          <li>Not well-defined Formal Languages
            <ul>
              <li>Alphabet = English characters, Language = English sentences</li>
            </ul>
          </li>
          <li>Well-defined Formal Languages
            <ul>
              <li>Alphabet = ASCII, Language = C programs</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>ä¸åŒçš„è¯­è¨€æ˜¯å»ºç«‹åœ¨ä¸åŒçš„å­—ç¬¦é›†ä¸Šï¼Œå› æ­¤è®¨è®ºæŸç§Formal Languageçš„å‰ææ˜¯å…ˆç¡®å®šå…¶æ‰€åœ¨çš„å­—ç¬¦é›†åˆ</li>
    </ul>
  </li>
</ul>

<h3 id="meaning-function">Meaning Function</h3>

<ul>
  <li>æ¯ç§Formal Languageéƒ½æœ‰Meaning function
    <ul>
      <li>
        <p><code class="highlighter-rouge">L</code> maps syntax to semantics(å°†è¡¨è¾¾å¼è½¬æ¢ä¸ºè¯­ä¹‰)</p>

        <script type="math/tex; mode=display">L(e) \thinspace = \thinspace M</script>

        <p>ä¾‹å¦‚ï¼Œå¯¹äºæ­£åˆ™è¯­è¨€æ¥è¯´ï¼Œ<code class="highlighter-rouge">e</code>ä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼ŒMä¸ºå®ƒæ‰€è¡¨ç¤ºçš„ä¸€ç»„å­—ç¬¦ä¸²</p>
      </li>
      <li>
        <p>å¯¹äºæ­£åˆ™è¯­è¨€æ¥è¯´ï¼Œ<code class="highlighter-rouge">e</code>ä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œ<code class="highlighter-rouge">M</code>ä¸ºå…¶æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²é›†åˆï¼Œ</p>
        <ul>
          <li><code class="highlighter-rouge">L(Îµ) = {""}</code></li>
          <li><code class="highlighter-rouge">L('c') = {"c"}</code></li>
          <li><code class="highlighter-rouge">L(A+B)</code> = <code class="highlighter-rouge">L(A) or L(B)</code></li>
          <li><code class="highlighter-rouge">L(AB)</code> = <code class="highlighter-rouge">{ab| a&lt;L(A) and b&lt;L(B)}</code></li>
          <li><code class="highlighter-rouge">L(A*)</code> = <code class="highlighter-rouge">{"",A,AA,...,A...A}</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>ä¸ºä»€ä¹ˆè¦å®šä¹‰meaning functionï¼Ÿ
    <ul>
      <li>Makes clear what is syntax, what is semantics</li>
      <li>Allows us to consider notation as a separate issue ,åˆ†ç¦»è¯­æ³•(<code class="highlighter-rouge">e</code>)å’Œè¯­ä¹‰(<code class="highlighter-rouge">L(e)</code>)</li>
      <li>Because expressions and meanings are not 1-1, æè¿°åŒä¸€å­—ç¬¦é›†çš„æ­£åˆ™è¡¨è¾¾å¼ä¸å”¯ä¸€
        <ul>
          <li>ä¾‹å¦‚<code class="highlighter-rouge">0*</code>è¡¨ç¤º<code class="highlighter-rouge">{"",0,00,...}</code>è¯¥é›†åˆä¹Ÿå¯ä»¥ç”¨<code class="highlighter-rouge">0+0*</code>æ¥æè¿°</li>
        </ul>
      </li>
      <li>å¯¹åº”åˆ°ç¼–ç¨‹è¯­è¨€
        <ul>
          <li>è¡¨å¾åŒä¸€è¯­ä¹‰çš„è¯­æ³•å¯ä»¥æœ‰å¾ˆå¤šï¼Œä½†æ˜¯å¤„ç†åå¾—åˆ°çš„è¯­ä¹‰æ˜¯ç›¸åŒçš„</li>
          <li>ä¸åŒå˜æˆè¯­è¨€å®šä¹‰å˜é‡çš„æ–¹å¼ä¸åŒï¼Œä½†å…¶è¯­ä¹‰å‡ä¸ºåœ¨å†…å­˜ä¸­å®šä¹‰ä¸€ä¸ªå˜é‡</li>
        </ul>
      </li>
      <li>Meaning function Læ˜¯å¤šå¯¹ä¸€çš„</li>
    </ul>
  </li>
</ul>

<h2 id="lexical-specifications">Lexical Specifications</h2>

<ul>
  <li>è¯­è¨€å…³é”®å­—ï¼ˆkeywordï¼‰çš„æ­£åˆ™è¡¨ç¤º
    <ul>
      <li>æ­£åˆ™ï¼š <code class="highlighter-rouge">'i''f' + 'e''l''s''e'</code></li>
      <li>ç®€åŒ–ï¼š <code class="highlighter-rouge">'if' + 'else' + 'then' + ...</code></li>
    </ul>
  </li>
  <li>æ•°å­—çš„æ­£åˆ™è¡¨ç¤º
    <ul>
      <li>å•ä¸ªintegerçš„æ­£åˆ™ï¼š<code class="highlighter-rouge">digit = '0'+'1'+'2'+'3'+...+'9'</code></li>
      <li>è‡³å°‘æœ‰ä¸€ä¸ªéç©ºç¬¦å·çš„æ­£åˆ™ï¼š<code class="highlighter-rouge">AA* = A+</code>
        <ul>
          <li>å¯¹äºæ•°å­—æ¥è¯´ï¼Œå®ƒçš„æ­£åˆ™ä¸º:<code class="highlighter-rouge">digit digit* = digit+ = [0-9]+</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>å˜é‡ï¼Œå­—ç¬¦ï¼ˆidentifierï¼‰çš„æ­£åˆ™è¡¨ç¤º
    <ul>
      <li>å­—ç¬¦: <code class="highlighter-rouge">'a'+'b'+'c'+...+'z'+'A'+'B'+...+'Z'</code>
        <ul>
          <li>ç®€åŒ–ä¸Šé¢çš„æ­£åˆ™ï¼Œä½¿ç”¨<code class="highlighter-rouge">range:[]</code>ç¬¦å·:<code class="highlighter-rouge">[a-zA-Z]</code></li>
          <li>æ€»çš„æ­£åˆ™<code class="highlighter-rouge">letter(letter + digit)* = [a-z][A-Z]*</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>whitespace: a non-empty sequence of blanks, newlinke, and tabs
    <ul>
      <li>blanks : <code class="highlighter-rouge">' ' </code></li>
      <li>new line: <code class="highlighter-rouge">\n</code></li>
      <li>tabs: <code class="highlighter-rouge">\t</code></li>
      <li>æ€»çš„æ­£åˆ™: <code class="highlighter-rouge">(â€˜ â€™+â€˜\nâ€™+'\t')+</code></li>
    </ul>
  </li>
  <li>anyone@cs.standford.edu
    <ul>
      <li>æ­£åˆ™ä¸º<code class="highlighter-rouge">letter+â€˜@â€™+letter+'.'+letter+'.'+letter</code></li>
      <li><code class="highlighter-rouge">[a-zA-Z]+@[a-zA-Z]+.</code></li>
    </ul>
  </li>
  <li>PASCALçš„æ•°å­—tokenæ­£åˆ™å¼
    <ul>
      <li>digit = <code class="highlighter-rouge">'0'+'1'+...+'9'</code></li>
      <li>digits = <code class="highlighter-rouge">digit+</code></li>
      <li>opt_fraction = <code class="highlighter-rouge">('.'digit) + e</code></li>
      <li>opt_exponent = <code class="highlighter-rouge">('E'('+'+'-'+e) digits) + e</code></li>
      <li>num = <code class="highlighter-rouge">digits opt_fraction opt_exponent</code></li>
    </ul>
  </li>
</ul>

:ET