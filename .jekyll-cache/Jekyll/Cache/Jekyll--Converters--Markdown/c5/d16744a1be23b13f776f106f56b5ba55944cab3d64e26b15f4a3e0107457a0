I"_æ<blockquote>
  <p>æœ¬æ–‡ä¸ºâ€Learn You a Haskell for Great Goodâ€è¯»ä¹¦ç¬”è®°</p>
</blockquote>

<h3 id="functional-programming-language">Functional Programming Language</h3>

<ul>
  <li>
    <p>ä»¥æ•°å­¦å…¬å¼çš„æ–¹å¼æè¿°é—®é¢˜</p>
  </li>
  <li>
    <p>ä¾‹å­:</p>
  </li>
</ul>

<p>å¯¹1åˆ°10æ±‚å’Œï¼Œç”¨Javaï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>total = 0

for(i=0;i&lt;10;i++)
{
	total = total+i
}

</code></pre></div></div>
<p>ç´¯è®¡totalçš„è®¡ç®—æ˜¯é€šè¿‡ variable assignmentå®Œæˆçš„ã€‚</p>

<p>è¿™ç§styleå±äºimperative programming</p>

<p>è®¡ç®—çš„è¿‡ç¨‹æ˜¯å¯¹totalçŠ¶æ€çš„ä¸æ–­ä¿®æ”¹ï¼Œæ²¡æœ‰è¿”å›å€¼</p>

<p>åŒæ—¶ï¼Œå®ƒä¹Ÿä¸æ˜¯First-Classçš„ï¼Œæ²¡æœ‰åŠæ³•å°†è®¡ç®—è¿‡ç¨‹ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œä»£ç ç»„ç»‡æ˜¯æ¾æ•£çš„ã€‚</p>

<p>åŒæ ·çš„ä¾‹å­ï¼Œç”¨Haskellå®ç°ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sum[1...10]

</code></pre></div></div>
<p>è¿™ç§styleå±äºdeclarative programming</p>

<p>è®¡ç®—è¿‡ç¨‹æ˜¯ç”±ä¸åŒè¡¨è¾¾å¼composeè€Œæˆçš„ï¼š</p>

<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªlist = 1â€¦10</p>

<p>ç„¶åå°†listä½œä¸ºsumçš„è¾“å…¥ï¼Œå¸¦å…¥åˆ°sumä¸­è®¡ç®—ï¼Œå¾—åˆ°ç»“æœ</p>

<p><strong>ä»è¡¨è¾¾å¼çš„è§’åº¦æ¥è¯´ï¼šå¯ä»¥æŠŠå‡½æ•°å‹è¯­è¨€ç†è§£ä¸ºä¸åŒè¡¨è¾¾å¼çš„ç»„åˆï¼ŒåŒæ—¶æ¯ä¸ªè¡¨è¾¾å¼æ˜¯ç‹¬ç«‹çš„ï¼Œæ˜¯æœ‰è¾“å…¥è¾“å‡ºçš„å‡½æ•°ï¼Œæ˜¯å¯ä»¥è¢«å•å…ƒæµ‹è¯•çš„ï¼Œå°†è¿™äº›è¡¨è¾¾å¼composeåˆ°ä¸€èµ·å°±æ˜¯å‡½æ•°å‹ç¼–ç¨‹</strong></p>

<h3 id="functional-programming-background">Functional Programming background</h3>

<ul>
  <li>
    <p>1930s: Alonzo Church develops the <strong><em>lamda calculus</em></strong>, a simple but powerful theory of functions</p>
  </li>
  <li>
    <p>1950s: John McCarthy develops <strong><em>Lisp</em></strong>, the first functional language, with some influences from the lamda calculus, but retaining variable assignments .</p>
  </li>
</ul>

<blockquote>
  <p>æ³¨ï¼šä½¿ç”¨assignmentæ˜¯éå¸¸è¯±äººçš„ï¼Œå› ä¸ºCPUå†³å®šäº†è®¡ç®—è¿‡ç¨‹å°±æ˜¯ä¸æ–­å‘å¯„å­˜å™¨å†™å…¥çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯ä¸æ–­æ›´æ–°å¯„å­˜å™¨ä¸­å€¼çš„è¿‡ç¨‹ï¼Œç¼–è¯‘å™¨ä¹Ÿæ˜¯ä¸ºè¿™ä¸ªè¿‡ç¨‹è€Œè®¾è®¡ï¼Œå› æ­¤å…è®¸ç›´æ¥èµ‹å€¼æ˜¯è®¸å¤šç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒçš„ï¼Œä½†æ˜¯å®ƒå´è¿èƒŒäº†Pure Functionalçš„æ€è·¯ï¼Œè¿™ç§ç›´æ¥èµ‹å€¼ä¹Ÿè¢«ç§°ä¸ºä¸º<em>side effect</em></p>
</blockquote>

<ul>
  <li>
    <p>1960s: Peter Landin develops <strong><em>ISWIM</em></strong>, the first pure functional language, based strongly on the lambda calculus, with no assignments!</p>
  </li>
  <li>
    <p>1970s: John Backus develops <strong><em>FP</em></strong>, a functional language that emphasizes <em>high-order functions</em> and <em>reasoning about programs</em>.</p>
  </li>
  <li>
    <p>1970s: Robin Milner and other develop <strong><em>ML</em></strong>, the first modern functional language, which introduced <em>type inference</em> and <em>polymorphic types(generic)</em>.</p>
  </li>
  <li>
    <p>1970s ~ 1980s: David Turner develops a number of <em>lazy</em> functional languages, culminating in the <strong><em>Miranda</em></strong> system.</p>
  </li>
  <li>
    <p>1987s: <strong><em>Haskell</em></strong></p>
  </li>
</ul>

<h3 id="a-taste-of-haskell">A Taste of Haskell</h3>

<p>qucik sort:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>f[] = []

f (x:xs) = f ys ++ [x] ++ f zs
			
			where
			
				ys = [a | a &lt;- xs, a&lt;= x]
				zs = [b | b &lt;- xs, b &gt; x]


</code></pre></div></div>

<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2>

<p>everything in haskell is function</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="n">x</span>
<span class="n">doubleMe</span><span class="o">::</span><span class="p">(</span><span class="kt">Num</span> <span class="n">a</span><span class="p">)</span><span class="o">=&gt;</span><span class="n">a</span><span class="o">-&gt;</span><span class="n">a</span>
<span class="n">doubleMe</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="p">;</span>

<span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
<span class="n">doubleSmallNumber</span> <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="kr">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="kr">then</span> <span class="n">x</span> <span class="kr">else</span> <span class="n">x</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>

<span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span>
<span class="n">doubleXY</span> <span class="n">x</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span>
</code></pre></div></div>

<ul>
  <li>å­—ç¬¦å¸¸é‡:</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">conanO'Brien</span> <span class="o">=</span> <span class="s">"It's a-me, Conan O'Brien!"</span>  
</code></pre></div></div>

<ul>
  <li>æ•°ç»„</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="n">strings</span> <span class="o">=</span> <span class="p">[</span><span class="s">"ask"</span><span class="p">,</span><span class="s">"hell"</span><span class="p">]</span>
</code></pre></div></div>

<ul>
  <li>æ•°ç»„æ‹¼æ¥</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">addNumbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="o">++</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">addStrings</span> <span class="o">=</span> <span class="p">[</span><span class="s">"haskell"</span><span class="p">,</span><span class="s">"java"</span><span class="p">]</span> <span class="o">++</span> <span class="p">[</span><span class="s">"lua"</span><span class="p">,</span><span class="s">"python"</span><span class="p">]</span>
</code></pre></div></div>

<ul>
  <li>å…¥é˜Ÿ</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">anotherStrings</span> <span class="o">=</span> <span class="s">"shit"</span><span class="o">:</span><span class="p">[</span><span class="s">"ask"</span><span class="p">,</span><span class="s">"hell"</span><span class="p">]</span>
</code></pre></div></div>

<ul>
  <li>ç´¢å¼•å‡½æ•°ï¼Œxä¸ºç´¢å¼•å€¼</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">index</span> <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span> <span class="o">!!</span> <span class="n">x</span> 
</code></pre></div></div>

<ul>
  <li>listæ¯”è¾ƒï¼Œå¦‚æœä½æ•°ç›¸åŒï¼Œåˆ™ä»ç¬¬ä¸€ä¸ªå€¼å¼€å§‹å‘åæ¯”è¾ƒ</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">compareResult1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="n">true</span>
<span class="n">compareResult2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="p">[</span><span class="mi">99</span><span class="p">,</span><span class="mi">88</span><span class="p">]</span> <span class="n">false</span>
</code></pre></div></div>
<ul>
  <li>listæ–¹æ³•</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">head</span> <span class="err">ï¼š</span> <span class="mi">5</span>
<span class="n">listHead</span> <span class="o">=</span> <span class="n">head</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

<span class="n">tail</span> <span class="err">ï¼š</span> <span class="mi">2</span><span class="err">ï¼Œ</span><span class="mi">3</span><span class="err">ï¼Œ</span><span class="mi">1</span>
<span class="n">listTail</span> <span class="o">=</span> <span class="n">tail</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

<span class="n">last</span> <span class="o">:</span> <span class="mi">1</span>
<span class="n">listLast</span> <span class="o">=</span> <span class="n">last</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>

<span class="n">init</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span>
<span class="n">listInit</span> <span class="o">=</span> <span class="n">init</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>

<span class="n">length</span> <span class="o">:</span> <span class="mi">4</span>
<span class="n">listLength</span> <span class="o">=</span> <span class="n">length</span> <span class="p">[</span><span class="mi">123</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>

</code></pre></div></div>

<p>takeè¿”å›å‰å‡ ä¸ª:1,2,3</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">listTake</span> <span class="o">=</span> <span class="n">take</span> <span class="mi">3</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
</code></pre></div></div>

<p>nullæ£€æµ‹æ•°ç»„æ˜¯å¦ä¸ºç©º</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">listNull</span> <span class="o">=</span> <span class="n">null</span><span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>  <span class="n">false</span>
<span class="n">listNull2</span> <span class="o">=</span> <span class="n">null</span><span class="kt">[]</span><span class="n">true</span>
</code></pre></div></div>

<p>maximum/minimumæ•°ç»„æœ€å¤§å€¼</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">listMax</span> <span class="o">=</span> <span class="n">maximum</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">listMin</span> <span class="o">=</span> <span class="n">minimum</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<p>sumæ•°ç»„æ±‚å’Œ</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">listSum</span> <span class="o">=</span> <span class="n">sum</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
</code></pre></div></div>

<p>elemæ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">listEle</span> <span class="o">=</span> <span class="mi">4</span> <span class="p">`</span><span class="n">elem</span><span class="p">`</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>  <span class="n">true</span>
</code></pre></div></div>

<p>range</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">listRangeInteger</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">20</span><span class="p">]</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="o">...</span><span class="p">,</span><span class="mi">20</span>
<span class="n">listRangeString</span> <span class="o">=</span> <span class="p">[</span><span class="sc">'a'</span><span class="o">..</span><span class="sc">'z'</span><span class="p">]</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="o">..</span><span class="p">,</span><span class="n">z</span>
<span class="n">listRangeEventInteger</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="o">..</span><span class="mi">20</span><span class="p">]</span>  <span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="o">...</span><span class="p">,</span><span class="mi">20</span>
</code></pre></div></div>

<p>äº§ç”Ÿæ— é™é•¿çš„listï¼Œå–å‰10ä¸ª</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">listCycle10Integer</span> <span class="o">=</span> <span class="n">take</span> <span class="mi">10</span> <span class="p">(</span><span class="n">cycle</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span>
<span class="n">listCycle10String</span> <span class="o">=</span> <span class="n">take</span> <span class="mi">10</span> <span class="p">(</span><span class="n">cycle</span><span class="s">"LOL "</span><span class="p">)</span> <span class="kt">LOL</span> <span class="kt">LOL</span> <span class="kt">LO</span>
</code></pre></div></div>

<p>äº§ç”Ÿé‡å¤çš„list,å–å‰10ä¸ª</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">listRepeat10Integer</span> <span class="o">=</span> <span class="n">take</span> <span class="mi">10</span> <span class="p">(</span><span class="n">repeat</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span> <span class="mi">4444444444</span> 
</code></pre></div></div>

<ul>
  <li>é›†åˆ</li>
</ul>

<p>ä¾‹å¦‚ï¼š</p>
<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">S</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="kt">N</span><span class="p">,</span> <span class="n">x</span> <span class="o">&lt;=</span><span class="mi">10</span><span class="p">}</span>
</code></pre></div></div>
<p>ç”¨Haskellè¡¨ç¤ºä¸ºï¼š1&lt;=x&lt;=10ï¼Œ2xçš„é›†åˆ</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">collectioA</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="mi">2</span> <span class="o">|</span> <span class="n">x</span> <span class="o">&lt;-</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">]]</span>
</code></pre></div></div>
<p>1&lt;=x&lt;=10ï¼Œ2x&gt;12ï¼Œ2xçš„é›†åˆ</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">collectionB</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="mi">2</span> <span class="o">|</span> <span class="n">x</span> <span class="o">&lt;-</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">],</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">12</span><span class="p">]</span>
</code></pre></div></div>

<p>50&lt;=x&lt;=100 &amp;&amp; x % 7 == 3çš„é›†åˆ</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">collectionC</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="o">&lt;-</span> <span class="p">[</span><span class="mi">50</span><span class="o">..</span><span class="mi">100</span><span class="p">],</span><span class="n">x</span> <span class="p">`</span><span class="n">mod</span><span class="p">`</span> <span class="mi">7</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span>
</code></pre></div></div>

<p>ä»ä¸€ä¸ª List ä¸­ç­›é€‰å‡ºç¬¦åˆç‰¹å®šé™åˆ¶æ¡ä»¶çš„æ“ä½œä¹Ÿå¯ä»¥ç§°ä¸ºè¿‡æ»¤ (flitering)ã€‚
å³å–ä¸€ç»„æ•°å¹¶ä¸”æŒ‰ç…§ä¸€å®šçš„é™åˆ¶æ¡ä»¶è¿‡æ»¤å®ƒä»¬ã€‚å†ä¸¾ä¸ªä¾‹å­å§
å‡å¦‚æˆ‘ä»¬æƒ³è¦ä¸€ä¸ª comprehensionï¼Œå®ƒèƒ½å¤Ÿä½¿ List ä¸­æ‰€æœ‰å¤§äº 10 çš„å¥‡æ•°å˜ä¸º â€œBANGâ€ï¼Œå°äº 10 çš„å¥‡æ•°å˜ä¸º â€œBOOMâ€</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">boomBangs</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="kr">if</span> <span class="n">x</span><span class="o">&lt;</span><span class="mi">10</span> <span class="kr">then</span> <span class="s">"BOOM"</span> <span class="kr">else</span> <span class="s">"BANG"</span> <span class="o">|</span> <span class="n">x</span><span class="o">&lt;-</span><span class="n">list</span><span class="p">,</span><span class="n">odd</span> <span class="n">x</span><span class="p">]</span>
</code></pre></div></div>

<p>ä»å¤šä¸ª List ä¸­å–å…ƒç´ ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚
è¿™æ ·çš„è¯ comprehension ä¼šæŠŠæ‰€æœ‰çš„å…ƒç´ ç»„åˆäº¤ä»˜ç»™æˆ‘ä»¬çš„è¾“å‡ºå‡½æ•°ã€‚
åœ¨ä¸è¿‡æ»¤çš„å‰æ ä¸‹ï¼Œå–è‡ªä¸¤ä¸ªé•¿åº¦ä¸º 4 çš„é›†åˆçš„ comprehension ä¼šäº§ç”Ÿä¸€ä¸ªé•¿åº¦ä¸º 16 çš„ Listã€‚
å‡è®¾æœ‰ä¸¤ä¸ª Listï¼Œ[2,5,10] å’Œ [8,10,11]ï¼Œ è¦å–å®ƒä»¬æ‰€æœ‰ç»„åˆçš„ç§¯ï¼Œå¯ä»¥è¿™æ ·ï¼š</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">multiplyList</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">|</span> <span class="n">x</span><span class="o">&lt;-</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span><span class="n">y</span><span class="o">&lt;-</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">]]</span>
</code></pre></div></div>

<p>è®©æˆ‘ä»¬ç¼–å†™è‡ªå·±çš„ length å‡½æ•°å§ï¼å°±å«åš lengthâ€™!</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">length'</span> <span class="n">list</span> <span class="o">=</span> <span class="n">sum</span><span class="p">[</span><span class="mi">1</span> <span class="o">|</span> <span class="kr">_</span><span class="o">&lt;-</span><span class="n">list</span><span class="p">]</span>
</code></pre></div></div>
<p>_ è¡¨ç¤ºæˆ‘ä»¬å¹¶ä¸å…³å¿ƒä» List ä¸­å–ä»€ä¹ˆå€¼ï¼Œä¸å…¶å¼„ä¸ªæ°¸è¿œä¸ç”¨çš„å˜é‡ï¼Œä¸å¦‚ç›´æ¥ä¸€ä¸ª _ã€‚
è¿™ä¸ªå‡½æ•°å°†ä¸€ä¸ª List ä¸­æ‰€æœ‰å…ƒç´ ç½®æ¢ä¸º 1ï¼Œå¹¶ä¸”ä½¿å…¶ç›¸åŠ æ±‚å’Œ</p>

<p>å»é™¤å­—ç¬¦ä¸²ä¸­çš„å°å†™å­—æ¯</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">removeNonUppercase</span> <span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="o">|</span> <span class="n">c</span><span class="o">&lt;-</span><span class="n">list</span><span class="p">,</span> <span class="n">c</span> <span class="p">`</span><span class="n">elem</span><span class="p">`</span> <span class="p">[</span><span class="sc">'A'</span><span class="o">..</span><span class="sc">'Z'</span><span class="p">]]</span>
</code></pre></div></div>

<ul>
  <li>Tuple å…ƒç»„</li>
</ul>

<p>ä»æŸç§æ„ä¹‰ä¸Šè®²ï¼ŒTuple (å…ƒç»„)å¾ˆåƒ List éƒ½æ˜¯å°†å¤šä¸ªå€¼å­˜å…¥ä¸€ä¸ªä¸ªä½“çš„å®¹å™¨ã€‚
ä½†å®ƒä»¬å´æœ‰ç€æœ¬è´¨çš„ä¸åŒï¼Œä¸€ç»„æ•°å­—çš„ List å°±æ˜¯ä¸€ç»„æ•°å­—ï¼Œå®ƒä»¬çš„ç±»å‹ç›¸ åŒï¼Œä¸”ä¸å…³å¿ƒå…¶ä¸­åŒ…å«å…ƒç´ çš„æ•°é‡ã€‚
è€Œ Tuple åˆ™è¦æ±‚ä½ å¯¹éœ€è¦ç»„åˆçš„æ•°æ®çš„æ•°ç›®éå¸¸çš„æ˜ç¡®ï¼Œå®ƒçš„ç±»å‹å–å†³äºå…¶ä¸­é¡¹çš„æ•°ç›®ä¸å…¶å„è‡ªçš„ç±»å‹ã€‚
Tuple ä¸­çš„é¡¹ ç”±æ‹¬å·æ‹¬èµ·ï¼Œå¹¶ç”±é€—å·éš”å¼€ã€‚</p>

<p>Tupleç±»ä¼¼hash mapï¼Œä½†æ˜¯æœ‰å¤šä¸ªvalue</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tupleA</span> <span class="o">=</span> <span class="p">(</span><span class="s">"jayson"</span><span class="p">,</span><span class="s">"code"</span><span class="p">,</span><span class="mi">28</span><span class="p">)</span>
</code></pre></div></div>

<p>tupleçš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œä¸èƒ½åŠ¨æ€å¢å‡
fst è¿”å›tupleçš„é¦–é¡¹ã€‚
tupleHead = fst(8,11)</p>

<p>sndè¿”å›å°¾é¡¹</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tupleTail</span> <span class="o">=</span> <span class="n">snd</span><span class="p">(</span><span class="s">"jsyon"</span><span class="p">,</span><span class="kt">False</span><span class="p">)</span>
</code></pre></div></div>

<p>zipæ–¹æ³•å°†k-vå…³è”èµ·æ¥</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">zipValue1</span> <span class="o">=</span> <span class="n">zip</span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">][</span><span class="s">"a"</span><span class="p">,</span><span class="s">"b"</span><span class="p">,</span><span class="s">"c"</span><span class="p">]</span>
</code></pre></div></div>
<p>zipä¸å›ºå®šé•¿åº¦</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">zipValue2</span> <span class="o">=</span> <span class="n">zip</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">][</span><span class="s">"a"</span><span class="p">,</span><span class="s">"b"</span><span class="p">]</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s">"a"</span><span class="p">)(</span><span class="mi">2</span><span class="p">,</span><span class="s">"b"</span><span class="p">)</span>
</code></pre></div></div>
<p>zipä¸å›ºå®šé•¿åº¦</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">zipValue3</span> <span class="o">=</span> <span class="n">zip</span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="p">][</span><span class="s">"a"</span><span class="p">,</span><span class="s">"n"</span><span class="p">,</span><span class="s">"c"</span><span class="p">]</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s">"a"</span><span class="p">)(</span><span class="mi">2</span><span class="p">,</span><span class="s">"n"</span><span class="p">)(</span><span class="mi">3</span><span class="p">,</span><span class="s">"c"</span><span class="p">)</span>
</code></pre></div></div>

<p>list å’Œ tuple</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tupleList</span> <span class="o">=</span> <span class="p">[(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)</span> <span class="o">|</span> <span class="n">a</span><span class="o">&lt;-</span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">],</span><span class="n">b</span><span class="o">&lt;-</span><span class="p">[</span><span class="mi">2</span><span class="o">..</span><span class="mi">9</span><span class="p">],</span><span class="n">c</span><span class="o">&lt;-</span><span class="p">[</span><span class="mi">3</span><span class="o">..</span><span class="mi">8</span><span class="p">],</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="o">==</span><span class="n">c</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span>
</code></pre></div></div>

<p>è¿™ä¾¿æ˜¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€çš„ä¸€èˆ¬æ€è·¯ï¼š
å…ˆå–ä¸€ä¸ªåˆå§‹çš„é›†åˆï¼ˆå…¥å‚ï¼‰å¹¶å°†å…¶å˜å½¢ï¼ˆmapï¼‰ï¼Œæ‰§è¡Œè¿‡æ»¤æ¡ä»¶ï¼ˆfilterï¼‰ï¼Œæœ€ç»ˆå–å¾—æ­£ç¡®çš„ç»“æœã€‚</p>

<h2 id="ç±»å‹">ç±»å‹</h2>

<ul>
  <li>å˜é‡ç±»å‹</li>
</ul>

<p>å‘½ä»¤ï¼š:tç”¨æ¥æŸ¥çœ‹å˜é‡çš„type</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">ghci</span><span class="o">&gt;</span> <span class="o">:</span><span class="n">t</span> <span class="sc">'a'</span>   
<span class="sc">'a'</span> <span class="o">::</span> <span class="kt">Char</span>   

<span class="n">ghci</span><span class="o">&gt;</span> <span class="o">:</span><span class="n">t</span> <span class="kt">True</span>   
<span class="kt">True</span> <span class="o">::</span> <span class="kt">Bool</span>   

<span class="n">ghci</span><span class="o">&gt;</span> <span class="o">:</span><span class="n">t</span> <span class="s">"HELLO!"</span>   
<span class="s">"HELLO!"</span> <span class="o">::</span> <span class="p">[</span><span class="kt">Char</span><span class="p">]</span>   

<span class="n">ghci</span><span class="o">&gt;</span> <span class="o">:</span><span class="n">t</span> <span class="p">(</span><span class="kt">True</span><span class="p">,</span> <span class="sc">'a'</span><span class="p">)</span>   
<span class="p">(</span><span class="kt">True</span><span class="p">,</span> <span class="sc">'a'</span><span class="p">)</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Bool</span><span class="p">,</span> <span class="kt">Char</span><span class="p">)</span>   

<span class="n">ghci</span><span class="o">&gt;</span> <span class="o">:</span><span class="n">t</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">5</span>   
<span class="mi">4</span> <span class="o">==</span> <span class="mi">5</span> <span class="o">::</span> <span class="kt">Bool</span>

</code></pre></div></div>

<ul>
  <li>å‡½æ•°ç±»å‹</li>
</ul>

<p>å‡½æ•°ç±»å‹å£°æ˜ï¼šå…¥å‚-&gt;å‡ºå‚</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">removeNonUppercase</span> <span class="o">::</span> <span class="p">[</span><span class="kt">Char</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">Char</span><span class="p">]</span>   
<span class="n">removeNonUppercase</span> <span class="n">st</span> <span class="o">=</span> <span class="p">[</span> <span class="n">c</span> <span class="o">|</span> <span class="n">c</span> <span class="o">&lt;-</span> <span class="n">st</span><span class="p">,</span> <span class="n">c</span> <span class="p">`</span><span class="n">elem</span><span class="p">`</span> <span class="p">[</span><span class="sc">'A'</span><span class="o">..</span><span class="sc">'Z'</span><span class="p">]]</span>

</code></pre></div></div>

<p>å…¥å‚-&gt;å…¥å‚-&gt;å…¥å‚-&gt;å‡ºå‚</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">addThree</span> <span class="o">::</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="o">-&gt;</span> <span class="kt">Int</span>   
<span class="n">addThree</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span>

</code></pre></div></div>

<p>Types : Integer, Float, Double, Bool, Char
ç±»å‹é¦–å­—æ¯å¿…é¡»å¤§å†™</p>

<ul>
  <li>Type variables</li>
</ul>

<p>ä¸»è¦è®¨è®ºå‡½æ•°çš„å‡ºå‚ï¼Œå’Œå…¥å‚ç±»å‹</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">ghci</span><span class="o">&gt;</span> <span class="o">:</span><span class="n">t</span> <span class="n">head</span>   
<span class="n">head</span> <span class="o">::</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">a</span>

</code></pre></div></div>

<p>æ„æ€æ˜¯headè¿™ä¸ªfunctionï¼Œå…¥å‚æ˜¯æ³›å‹çš„[a]ï¼Œå‡ºå‚æ˜¯æ³›å‹çš„aï¼Œè¿™ç§éƒ½æ˜¯æ³›å‹çš„å‡ºå…¥å‚å‡½æ•°å«åšâ€œå¤šæ€å‡½æ•°â€</p>

<ul>
  <li>Typeclasses</li>
</ul>

<p>è¿˜æ˜¯è®¨è®ºå‡½æ•°çš„å‚æ•°é—®é¢˜:æœ‰äº›å‡½æ•°çš„å…¥å‚ï¼Œå‡ºå‚ç±»å‹æ˜¯è¢«çº¦æŸçš„ï¼Œå®ƒè¦æœä»å…¶â€œçˆ¶ç±»â€çš„ç±»å‹çº¦æŸæ¡ä»¶
ä¾‹å¦‚ï¼š</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ghci</span><span class="o">&gt;</span> <span class="o">:</span><span class="n">t</span> <span class="p">(</span><span class="o">==</span><span class="p">)</span>   
<span class="p">(</span><span class="o">==</span><span class="p">)</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Eq</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Bool</span>

</code></pre></div></div>

<p>æœ‰æ„æ€ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬è§åˆ°ä¸ªæ–°ä¸œè¥¿ï¼š=&gt; ç¬¦å·ã€‚
å®ƒå·¦è¾¹çš„éƒ¨åˆ†å«åšç±»å‹çº¦æŸ
æˆ‘ä»¬å¯ä»¥è¿™æ ·é˜…è¯»è¿™æ®µç±»å‹å£°æ˜ï¼šâ€ç›¸ç­‰å‡½æ•°å–ä¸¤ä¸ªç›¸åŒç±»å‹çš„å€¼ä½œä¸ºå‚æ•°å¹¶å›ä¼ ä¸€ä¸ªå¸ƒæ—å€¼ï¼Œè€Œè¿™ä¸¤ä¸ªå‚æ•°çš„ç±»å‹åŒåœ¨ Eq ç±»ä¹‹ä¸­(å³ç±»å‹çº¦æŸ)â€</p>

<p>æ€ä¹ˆç†è§£å‘¢ï¼Ÿ
 â€œ==â€ è¿™ä¸ªå‡½æ•°çš„å…¥å‚å’Œå‡ºå‚ç±»å‹ï¼Œå–å†³äºEqï¼Œå› ä¸º â€œ==â€ çš„çˆ¶ç±»å°±æ˜¯Eqï¼Œ
 Eqçš„å­ç±»è¿˜æœ‰â€œ/=â€</p>

<p>ç›¸ä¼¼çš„ä¾‹å­è¿˜æœ‰Ordï¼š</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ghci</span><span class="o">&gt;</span> <span class="o">:</span><span class="n">t</span> <span class="p">(</span><span class="o">&gt;</span><span class="p">)</span>   
<span class="p">(</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Ord</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Bool</span>

</code></pre></div></div>

<p>â€œ&gt;â€çš„å‚æ•°ç±»å‹å–å†³äºçˆ¶ç±»Ord
åŒç†ï¼ŒordåŒ…å«äº†&lt;, &gt;, &lt;=, &gt;= è¿™å‡ ä¸ªæ¥å£</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">show1</span> <span class="o">=</span> <span class="n">show</span> <span class="mi">3</span>  <span class="s">"3"</span>

 <span class="kt">Main</span><span class="o">&gt;</span> <span class="o">:</span><span class="n">t</span> <span class="p">(</span><span class="n">show</span><span class="p">)</span>
<span class="p">(</span><span class="n">show</span><span class="p">)</span> <span class="o">::</span> <span class="kt">Show</span> <span class="n">a</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">String</span>

</code></pre></div></div>

<p>showçš„å‚æ•°ç±»å‹å–å†³äºshowè‡ªå·±ï¼Œè€Œshowè¿™ä¸ªtypeclassåŒ…å«çš„å‚æ•°ç±»å‹ä¸ºæ‰€æœ‰
3 æ˜¯Integerï¼Œåœ¨åŒ…å«çš„èŒƒå›´ä¹‹å†…ï¼Œå› æ­¤å¯ä»¥è½¬æ¢ä¸ºstring</p>

<p>readå°†å­—ç¬¦ä¸²è½¬ä¸ºæŸæˆå‘˜ç±»å‹,ç±»å‹æ ¹æ®ç¬¬äºŒä¸ªå‚æ•°ç¡®å®š</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">read1</span> <span class="o">=</span> <span class="n">read</span> <span class="s">"True"</span> <span class="o">||</span> <span class="kt">False</span>  <span class="kt">True</span>
<span class="n">read2</span> <span class="o">=</span> <span class="n">read</span> <span class="s">"8.2"</span> <span class="o">+</span> <span class="mf">3.8</span>  <span class="mf">12.0</span>

</code></pre></div></div>

<p>readè‹¥åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™éœ€è¦æä¾›ä¸€ä¸ªå‚æ•°ç±»å‹ï¼Œå¸®åŠ©å…¶è½¬æ¢</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">read3</span> <span class="o">=</span> <span class="n">read</span> <span class="s">"3"</span> <span class="o">::</span> <span class="kt">Int</span>
<span class="n">read4</span> <span class="o">=</span> <span class="p">(</span><span class="n">read</span> <span class="s">"4.0"</span><span class="o">::</span><span class="kt">Float</span><span class="p">)</span><span class="o">*</span><span class="mi">4</span>
<span class="n">read5</span> <span class="o">=</span> <span class="n">read</span> <span class="s">"[1,2,3,4]"</span> <span class="o">::</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span>   
<span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>   
<span class="n">read6</span> <span class="o">=</span> <span class="n">read</span> <span class="s">"(3, 'a')"</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Int</span><span class="p">,</span> <span class="kt">Char</span><span class="p">)</span>  

</code></pre></div></div>

<p>EnumåŒ…å«ï¼š</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">succ</span><span class="err">ï¼Œ</span><span class="n">pred</span><span class="err">ï¼Œ</span><span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">](</span><span class="n">range</span><span class="p">)</span>

</code></pre></div></div>
<p>å‚æ•°ç±»å‹åŒ…æ‹¬ï¼š</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">Main</span><span class="o">&gt;</span> <span class="o">:</span><span class="n">t</span> <span class="p">([</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">])</span>
<span class="p">([</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">])</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Enum</span> <span class="n">t</span><span class="p">,</span> <span class="kt">Num</span> <span class="n">t</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">t</span><span class="p">]</span>

</code></pre></div></div>

<h2 id="å‡½æ•°">å‡½æ•°</h2>

<ul>
  <li>å‚æ•°åŒ¹é…ï¼ˆä»£æ•°ï¼‰</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lucky2</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Integral</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">String</span>
<span class="n">lucky2</span> <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="kr">if</span> <span class="n">x</span><span class="o">==</span><span class="mi">7</span> <span class="kr">then</span> <span class="s">"LuckNumber"</span> <span class="kr">else</span> <span class="s">"wrongNumber"</span><span class="p">)</span>

</code></pre></div></div>

<p>ç­‰ä»·äºè¿™ä¸ª:</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lucky</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Integral</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">String</span>
<span class="n">lucky</span> <span class="mi">7</span> <span class="o">=</span> <span class="s">"Luck Number!"</span>
<span class="n">lucky</span> <span class="n">x</span> <span class="o">=</span> <span class="s">"wrong number!"</span>

</code></pre></div></div>

<p>åœ¨è°ƒç”¨ lucky æ—¶ï¼Œæ¨¡å¼ä¼šä»ä¸Šè‡³ä¸‹è¿›è¡Œæ£€æŸ¥ï¼Œä¸€æ—¦æœ‰åŒ¹é…ï¼Œé‚£å¯¹åº”çš„å‡½æ•°ä½“å°±è¢«åº”ç”¨äº†ã€‚
è¿™ä¸ªæ¨¡å¼ä¸­çš„å”¯ä¸€åŒ¹é…æ˜¯å‚æ•°ä¸º 7ï¼Œå¦‚æœä¸æ˜¯ 7ï¼Œå°±è½¬åˆ°ä¸‹ä¸€ä¸ªæ¨¡å¼ï¼Œå®ƒåŒ¹é…ä¸€åˆ‡æ•°å€¼å¹¶å°†å…¶ç»‘å®šä¸º x ã€‚</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sayMe</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Integral</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">String</span>   
<span class="n">sayMe</span> <span class="mi">1</span> <span class="o">=</span> <span class="s">"One!"</span>   
<span class="n">sayMe</span> <span class="mi">2</span> <span class="o">=</span> <span class="s">"Two!"</span>   
<span class="n">sayMe</span> <span class="mi">3</span> <span class="o">=</span> <span class="s">"Three!"</span>   
<span class="n">sayMe</span> <span class="mi">4</span> <span class="o">=</span> <span class="s">"Four!"</span>   
<span class="n">sayMe</span> <span class="mi">5</span> <span class="o">=</span> <span class="s">"Five!"</span>   
<span class="n">sayMe</span> <span class="n">x</span> <span class="o">=</span> <span class="s">"Not between 1 and 5"</span>  

</code></pre></div></div>

<p>åŒæ ·ä¼šå¯¹å‚æ•°aä»ä¸Šå‘ä¸‹åŒ¹é…
å¦‚æœæŠŠxæ”¾åˆ°æœ€å‰é¢ï¼Œé‚£ä¹ˆåé¢çš„æ¡ä»¶éƒ½ä¸ä¼šæ‰§è¡Œ
å…¶å®è¿™å°±æ˜¯haskellçš„switch-case</p>

<ul>
  <li>æ±‚é˜¶ä¹˜:</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">factorial</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Integral</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">a</span>   
<span class="n">factorial</span> <span class="mi">0</span> <span class="o">=</span> <span class="mi">1</span>   
<span class="n">factorial</span> <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">factorial</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>  

</code></pre></div></div>

<ul>
  <li>ä¸¤ä¸ªå‘é‡ç›¸åŠ :é™åˆ¶aç±»å‹ä¸ºnum</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">addVectors</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Num</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">)</span> <span class="o">-&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>
<span class="n">addVectors</span> <span class="n">a</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">fst</span> <span class="n">a</span><span class="o">+</span><span class="n">fst</span> <span class="n">b</span><span class="p">,</span> <span class="n">snd</span> <span class="n">a</span><span class="o">+</span><span class="n">snd</span> <span class="n">b</span><span class="p">)</span>

</code></pre></div></div>
<p>ä½¿ç”¨æ¨¡å¼åŒ¹é…:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
addVectors2 :: (Num a) =&gt; (a, a) -&gt; (a, a) -&gt; (a, a)   
addVectors2 (x1, y1) (x2, y2) = (x1 + x2, y1 + y2) 

</code></pre></div></div>

<p>å¯¹ List æœ¬èº«ä¹Ÿå¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ã€‚
ä½ å¯ä»¥ç”¨ [] æˆ– : æ¥åŒ¹é…å®ƒã€‚
å› ä¸º [1,2,3] æœ¬è´¨å°±æ˜¯ 1:2:3:[] çš„è¯­æ³•ç³–ã€‚
ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å‰ä¸€ç§å½¢å¼
åƒ x:xs è¿™æ ·çš„æ¨¡å¼å¯ä»¥å°† List çš„å¤´éƒ¨ç»‘å®šä¸º xï¼Œå°¾éƒ¨ç»‘å®šä¸º xsã€‚
å¦‚æœè¿™ List åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆ xs å°±æ˜¯ä¸€ä¸ªç©º List,åªæœ‰ä¸€ä¸ªå¤´éƒ¨å…ƒç´ xã€‚</p>

<ul>
  <li>è‡ªå·±å®ç°listçš„headæ–¹æ³•</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">headVal</span> <span class="o">::</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">a</span>   
<span class="n">headVal</span> <span class="kt">[]</span> <span class="o">=</span> <span class="n">error</span> <span class="s">"Can't call head on an empty list, dummy!"</span>   
<span class="n">headVal</span> <span class="p">(</span><span class="n">x</span><span class="o">:</span><span class="kr">_</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span>  

</code></pre></div></div>

<p>æ€ä¹ˆç†è§£è¿™ä¸ªå‘¢ï¼Ÿ
é¦–å…ˆåŒ¹é…listï¼Œéœ€è¦ç”¨()
å…¶æ¬¡ï¼Œâ€-â€œä»£è¡¨åŒ¹é…ä»»æ„list
ä¾‹å¦‚ç”¨æˆ·è¾“å…¥ï¼š[1,2,3]å®é™…ä¸ŠåŒ¹é…çš„æ˜¯1:[2,3]è‡ªç„¶ç»“æœæ˜¯1</p>

<p>å¼„ä¸ªç®€å•å‡½æ•°ï¼Œè®©å®ƒç”¨éæ ‡å‡†çš„è‹±è¯­ç»™æˆ‘ä»¬å±•ç¤º List çš„å‰å‡ é¡¹ã€‚</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tell</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Show</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="kt">String</span>   
<span class="n">tell</span> <span class="kt">[]</span> <span class="o">=</span> <span class="s">"The list is empty"</span>   
<span class="n">tell</span> <span class="p">(</span><span class="n">x</span><span class="o">:</span><span class="kt">[]</span><span class="p">)</span> <span class="o">=</span> <span class="s">"The list has one element: "</span> <span class="o">++</span> <span class="n">show</span> <span class="n">x</span>   
<span class="n">tell</span> <span class="p">(</span><span class="n">x</span><span class="o">:</span><span class="n">y</span><span class="o">:</span><span class="kt">[]</span><span class="p">)</span> <span class="o">=</span> <span class="s">"The list has two elements: "</span> <span class="o">++</span> <span class="n">show</span> <span class="n">x</span> <span class="o">++</span> <span class="s">" and "</span> <span class="o">++</span> <span class="n">show</span> <span class="n">y</span>   
<span class="n">tell</span> <span class="p">(</span><span class="n">x</span><span class="o">:</span><span class="n">y</span><span class="o">:</span><span class="kr">_</span><span class="p">)</span> <span class="o">=</span> <span class="s">"This list is long. The first two elements are: "</span> <span class="o">++</span> <span class="n">show</span> <span class="n">x</span> <span class="o">++</span> <span class="s">" and "</span> <span class="o">++</span> <span class="n">show</span> <span class="n">y</span>  

</code></pre></div></div>

<p>åŒä¸Šï¼Œå¦‚æœè¾“å…¥ä¸ºï¼š[]åŒ¹é…çš„æ˜¯ç¬¬ä¸€æ¡
è¾“å…¥ä¸ºï¼š[1]åŒ¹é…çš„æ˜¯ç¬¬äºŒæ¡ï¼š1:[]
è¾“å…¥ä¸ºï¼š[1,2]åŒ¹é…çš„æ˜¯ç¬¬ä¸‰æ¡ï¼š1:2:[]
è¾“å…¥ä¸º:[1,2,3]åŒ¹é…çš„æ˜¯ç¬¬ä¸‰æ¡ï¼š1:2:[3]</p>

<ul>
  <li>listé•¿åº¦:ç”¨é€’å½’æ±‚æ•°ç»„é•¿åº¦</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">length'</span><span class="o">::</span><span class="p">(</span><span class="kt">Num</span> <span class="n">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">b</span>
<span class="n">length'</span> <span class="kt">[]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">lenght'</span> <span class="p">(</span><span class="kr">_</span><span class="o">:</span><span class="n">xs</span><span class="p">)</span> <span class="o">=</span> <span class="n">length'</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span>

</code></pre></div></div>

<p>ä¾‹å¦‚ï¼Œè¾“å…¥ä¸º:[1,2,3]ï¼ŒåŒ¹é…çš„æ˜¯1:[2,3]ä¾æ­¤é€’å½’ä¸‹å»,listæ±‚å’Œï¼ŒåŒæ ·é“ç†</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sum'</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Num</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">a</span>   
<span class="n">sum'</span> <span class="kt">[]</span> <span class="o">=</span> <span class="mi">0</span>   
<span class="n">sum'</span> <span class="p">(</span><span class="n">x</span><span class="o">:</span><span class="n">xs</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">sum'</span> <span class="n">xs</span>  

</code></pre></div></div>

<ul>
  <li>Guards</li>
</ul>

<p>æ¨¡å¼ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦åˆé€‚å¹¶ä»ä¸­å–å€¼ï¼Œè€Œ guard åˆ™ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªå€¼çš„æŸé¡¹å±æ€§æ˜¯å¦ä¸ºçœŸã€‚
å’‹ä¸€å¬æœ‰ç‚¹åƒæ˜¯ if è¯­å¥ï¼Œå®é™…ä¸Šä¹Ÿæ­£æ˜¯å¦‚æ­¤ã€‚
ä¸è¿‡å¤„ç†å¤šä¸ªæ¡ä»¶åˆ†æ”¯æ—¶ guard çš„å¯è¯»æ€§è¦é«˜äº›ï¼Œå¹¶ä¸”ä¸æ¨¡å¼åŒ¹é…å¥‘åˆçš„å¾ˆå¥½ã€‚</p>

<p>å°±å¯ä»¥æŠŠguardç®€å•ç†è§£ä¸ºif</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">bmiTell</span> <span class="o">::</span> <span class="p">(</span><span class="kt">RealFloat</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">String</span>   
<span class="n">bmiTell</span> <span class="n">x</span>   
    <span class="o">|</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">18.5</span> <span class="o">=</span> <span class="s">"You're underweight, you emo, you!"</span>   
    <span class="o">|</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">25.0</span> <span class="o">=</span> <span class="s">"You're supposedly normal. Pffft, I bet you're ugly!"</span>   
    <span class="o">|</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">30.0</span> <span class="o">=</span> <span class="s">"You're fat! Lose some weight, fatty!"</span>   
    <span class="o">|</span> <span class="n">otherwise</span>   <span class="o">=</span> <span class="s">"You're a whale, congratulations!"</span>  

</code></pre></div></div>

<p>guard ç”±è·Ÿåœ¨å‡½æ•°ååŠå‚æ•°åé¢çš„ç«–çº¿æ ‡å¿—ï¼Œé€šå¸¸ä»–ä»¬éƒ½æ˜¯é å³ä¸€ä¸ªç¼©è¿›æ’æˆä¸€åˆ—ã€‚
 ä¸€ä¸ª guard å°±æ˜¯ä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼ï¼Œå¦‚æœä¸ºçœŸï¼Œå°±ä½¿ç”¨å…¶å¯¹åº”çš„å‡½æ•°ä½“ã€‚å¦‚æœä¸ºå‡ï¼Œå°±é€å»è§ä¸‹ä¸€ä¸ª guardï¼Œå¦‚ä¹‹ç»§ç»­
æ³¨ï¼šbmiTell xå’Œä¸‹ä¸€å¥é—´ä¸èƒ½æœ‰ç©ºè¡Œ</p>

<p>é‡å†™maxå‡½æ•°</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">max'</span> <span class="o">::</span> <span class="p">(</span><span class="kt">Ord</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">a</span>   
<span class="n">max'</span> <span class="n">a</span> <span class="n">b</span>    
    <span class="o">|</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span>     <span class="o">=</span> <span class="n">a</span>   
    <span class="o">|</span> <span class="n">otherwise</span> <span class="o">=</span> <span class="n">b</span>  


</code></pre></div></div>

<ul>
  <li>where</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">bmiTell2</span> <span class="o">::</span> <span class="p">(</span><span class="kt">RealFloat</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">String</span>   
<span class="n">bmiTell2</span> <span class="n">weight</span> <span class="n">height</span>   
    <span class="o">|</span> <span class="n">bmi</span> <span class="o">&lt;=</span> <span class="n">skinny</span> <span class="o">=</span> <span class="s">"You're underweight, you emo, you!"</span>   
    <span class="o">|</span> <span class="n">bmi</span> <span class="o">&lt;=</span> <span class="n">normal</span> <span class="o">=</span> <span class="s">"You're supposedly normal. Pffft, I bet you're ugly!"</span>   
    <span class="o">|</span> <span class="n">bmi</span> <span class="o">&lt;=</span> <span class="n">fat</span>    <span class="o">=</span> <span class="s">"You're fat! Lose some weight, fatty!"</span>   
    <span class="o">|</span> <span class="n">otherwise</span>     <span class="o">=</span> <span class="s">"You're a whale, congratulations!"</span>   
    <span class="kr">where</span> <span class="n">bmi</span> <span class="o">=</span> <span class="n">weight</span> <span class="o">/</span> <span class="n">height</span> <span class="o">^</span> <span class="mi">2</span>   
          <span class="n">skinny</span> <span class="o">=</span> <span class="mf">18.5</span>   
          <span class="n">normal</span> <span class="o">=</span> <span class="mf">25.0</span>   
          <span class="n">fat</span> <span class="o">=</span> <span class="mf">30.0</span>
</code></pre></div></div>
<p>whereå¿…é¡»å®šä¹‰åœ¨æœ€åé¢ï¼Œè€Œä¸”å˜é‡çš„åå­—å¿…é¡»æ’æˆç«–è¡Œ</p>

<ul>
  <li>let-in</li>
</ul>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">let</span><span class="o">-</span><span class="n">in</span><span class="err">å…è®¸åœ¨å‡½æ•°ä¸­çš„ä»»æ„ä½ç½®å®šä¹‰å±€éƒ¨å˜é‡</span>

<span class="n">calcBmis</span> <span class="o">::</span> <span class="p">(</span><span class="kt">RealFloat</span> <span class="n">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[(</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">)]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span>   
<span class="n">calcBmis</span> <span class="n">xs</span> <span class="o">=</span> <span class="p">[</span><span class="n">bmi</span> <span class="o">|</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="n">xs</span><span class="p">,</span> <span class="kr">let</span> <span class="n">bmi</span> <span class="o">=</span> <span class="n">w</span> <span class="o">/</span> <span class="n">h</span> <span class="o">^</span> <span class="mi">2</span><span class="p">]</span>

</code></pre></div></div>

<ul>
  <li>case</li>
</ul>

<p>ç”¨å®ƒå¯ä»¥å¯¹å˜é‡çš„ä¸åŒæƒ…å†µåˆ†åˆ«æ±‚å€¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ã€‚
Hmmï¼Œå–ä¸€ä¸ªå˜é‡ï¼Œå¯¹å®ƒæ¨¡å¼åŒ¹é…ï¼Œæ‰§è¡Œå¯¹åº”çš„ä»£ç å—ã€‚
å¥½åƒåœ¨å“ªå„¿å¬è¿‡ï¼Ÿå•Šï¼Œå°±æ˜¯å‡½æ•°å®šä¹‰æ—¶å‚æ•°çš„æ¨¡å¼åŒ¹é…ï¼
{å¥½å§ï¼Œæ¨¡å¼åŒ¹é…æœ¬è´¨ä¸Šä¸è¿‡å°±æ˜¯ case è¯­å¥çš„è¯­æ³•ç³–è€Œå·²}</p>

<p>caseè¡¨è¾¾å¼ï¼š</p>

<div class="language-haskell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">case</span> <span class="n">expression</span> <span class="kr">of</span> <span class="n">pattern</span> <span class="o">-&gt;</span> <span class="n">result</span>   
                   <span class="n">pattern</span> <span class="o">-&gt;</span> <span class="n">result</span>   
                   <span class="n">pattern</span> <span class="o">-&gt;</span> <span class="n">result</span>   
                   <span class="o">...</span>  



<span class="n">head2</span> <span class="o">::</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">a</span>   
<span class="n">head2</span> <span class="n">xs</span> <span class="o">=</span> <span class="kr">case</span> <span class="n">xs</span> <span class="kr">of</span> <span class="kt">[]</span> <span class="o">-&gt;</span> <span class="n">error</span> <span class="s">"No head for empty lists!"</span>   
                      <span class="p">(</span><span class="n">x</span><span class="o">:</span><span class="kr">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">x</span>  
                   
	
<span class="n">describeList</span> <span class="o">::</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="kt">String</span>   
<span class="n">describeList</span> <span class="n">xs</span> <span class="o">=</span> <span class="s">"The list is "</span> <span class="o">++</span> <span class="kr">case</span> <span class="n">xs</span> <span class="kr">of</span> <span class="kt">[]</span> <span class="o">-&gt;</span> <span class="s">"empty."</span>   
                                               <span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="s">"a singleton list."</span>    
                                               <span class="n">xs</span> <span class="o">-&gt;</span> <span class="s">"a longer list."</span> 
</code></pre></div></div>

<h2 id="resources">Resources</h2>

<ul>
  <li><a href="http://learnyouahaskell.com/">Learn You a Haskell for Great Good!</a></li>
  <li><a href="http://www.cs.nott.ac.uk/~gmh/book.html">Haskell-Book</a></li>
</ul>
:ET