I"Õô<blockquote>
  <p>æŒç»­æ›´æ–°ï¼Œè¡¥å……C++æ–°å¢feature,ç›®å½•ç»“æ„éµå¾ªã€ŠC++ Primerã€‹</p>
</blockquote>

<h2 id="åŸºæœ¬å†…ç½®ç±»å‹">åŸºæœ¬å†…ç½®ç±»å‹</h2>

<h3 id="å­—é¢å¸¸é‡">å­—é¢å¸¸é‡</h3>

<ul>
  <li>æ•´å‹å’Œæµ®ç‚¹å‹
    <ul>
      <li><code class="highlighter-rouge">0</code>å¼€å¤´çš„è¡¨ç¤º8è¿›åˆ¶ï¼Œ<code class="highlighter-rouge">x</code>å¼€å¤´çš„è¡¨ç¤º16è¿›åˆ¶</li>
      <li>æµ®ç‚¹å‹å­—é¢å¸¸é‡é»˜è®¤æ˜¯<code class="highlighter-rouge">double</code>ç±»å‹
        <ul>
          <li>ç§‘å­¦è®¡æ•°æ³•çš„æŒ‡æ•°ç”¨<code class="highlighter-rouge">e</code>æˆ–è€…<code class="highlighter-rouge">E</code>è¡¨ç¤º
            <ul>
              <li><code class="highlighter-rouge">3.14159E0</code></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>è½¬ä¹‰å­—ç¬¦
    <ul>
      <li>æ¢è¡Œï¼š<code class="highlighter-rouge">\n</code>ï¼Œå›è½¦ï¼š<code class="highlighter-rouge">\r</code>ï¼Œé€€æ ¼<code class="highlighter-rouge">\b</code></li>
      <li>çºµå‘åˆ¶è¡¨ç¬¦ï¼š<code class="highlighter-rouge">\v</code>ï¼Œæ¨ªå‘åˆ¶è¡¨ç¬¦<code class="highlighter-rouge">\t</code></li>
      <li>åæ–œçº¿ï¼š<code class="highlighter-rouge">\\</code></li>
      <li>å•å¼•å·ï¼š<code class="highlighter-rouge">\'</code>, åŒå¼•å·ï¼š<code class="highlighter-rouge">\"</code></li>
      <li>è¿›çº¸ç¬¦ï¼š<code class="highlighter-rouge">\f</code></li>
    </ul>
  </li>
  <li>å­—ç¬¦å’Œå­—ç¬¦ä¸²å­—é¢å€¼</li>
</ul>

<table>
  <thead>
    <tr>
      <th>å‰ç¼€</th>
      <th>å«ä¹‰</th>
      <th>ç±»å‹</th>
      <th>ä¾‹å­</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>u</td>
      <td>Unicode 16</td>
      <td>char16_t</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>U</td>
      <td>Unicode 32</td>
      <td>char32_t</td>
      <td>Â </td>
    </tr>
    <tr>
      <td>L</td>
      <td>å®½å­—ç¬¦</td>
      <td>wchar_t</td>
      <td><code class="highlighter-rouge">L'a'</code></td>
    </tr>
    <tr>
      <td>u8</td>
      <td>UTF-8ï¼ˆä»…ç”¨äºå­—ç¬¦ä¸²ï¼‰</td>
      <td>char</td>
      <td><code class="highlighter-rouge">u8"Hi"</code></td>
    </tr>
  </tbody>
</table>

<ul>
  <li>æ•´å‹å­—é¢å€¼</li>
</ul>

<table>
  <thead>
    <tr>
      <th>åç¼€</th>
      <th>æœ€å°åŒ¹é…ç±»å‹</th>
      <th>ä¾‹å­</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>u or U</td>
      <td>unsigned</td>
      <td><code class="highlighter-rouge">42ULL //æ— ç¬¦å·æ•´å‹å­—é¢å€¼ï¼Œç±»å‹æ˜¯unsigned long long</code></td>
    </tr>
    <tr>
      <td>l or L</td>
      <td>long</td>
      <td><code class="highlighter-rouge">42ULL //æ— ç¬¦å·æ•´å‹å­—é¢å€¼ï¼Œç±»å‹æ˜¯unsigned long long</code></td>
    </tr>
    <tr>
      <td>ll or LL</td>
      <td>longlong</td>
      <td><code class="highlighter-rouge">42ULL //æ— ç¬¦å·æ•´å‹å­—é¢å€¼ï¼Œç±»å‹æ˜¯unsigned long long</code></td>
    </tr>
  </tbody>
</table>

<ul>
  <li>æµ®ç‚¹å‹å­—é¢å€¼</li>
</ul>

<table>
  <thead>
    <tr>
      <th>åç¼€</th>
      <th>ç±»å‹</th>
      <th>ä¾‹å­</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>f or F</td>
      <td>float</td>
      <td><code class="highlighter-rouge">1E-3F //å•ç²¾åº¦æµ®ç‚¹å‹ï¼Œç±»å‹æ˜¯float</code></td>
    </tr>
    <tr>
      <td>l or L</td>
      <td>long double</td>
      <td><code class="highlighter-rouge">3.14159Lï¼Œæ‰©å±•ç²¾åº¦æµ®ç‚¹å‹å­—é¢å€¼</code></td>
    </tr>
  </tbody>
</table>

<h3 id="å˜é‡">å˜é‡</h3>

<ul>
  <li>åˆå§‹åŒ–
    <ul>
      <li>å˜é‡åœ¨å®šä¹‰æ—¶è¢«åˆå§‹åŒ–ï¼Œ<code class="highlighter-rouge">=</code>ä¸æ˜¯èµ‹å€¼çš„æ„æ€ï¼ˆèµ‹å€¼æ˜¯æŠŠå½“å‰çš„å€¼æ“¦é™¤ï¼‰</li>
      <li>ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨(list initialization)</li>
    </ul>

    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
  <span class="kt">int</span> <span class="n">x</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
  <span class="kt">int</span> <span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div>    </div>
    <ul>
      <li><code class="highlighter-rouge">std::string empty; //éæ˜¾ç¤ºåˆå§‹åŒ–ä¸€ä¸ªç©ºä¸²</code></li>
      <li>â€œå˜é‡å®šä¹‰å°½é‡åˆå§‹åŒ–â€</li>
    </ul>
  </li>
  <li>å£°æ˜å’Œå®šä¹‰
    <ul>
      <li><code class="highlighter-rouge">extern int i; // å£°æ˜</code></li>
      <li><code class="highlighter-rouge">int j; //å®šä¹‰</code></li>
    </ul>
  </li>
  <li>å¤åˆç±»å‹ï¼ˆcompound typeï¼‰
    <ul>
      <li>å·¦å€¼å¼•ç”¨å’ŒæŒ‡é’ˆ</li>
      <li>å·¦å€¼å¼•ç”¨å®šä¹‰å¿…é¡»åˆåˆå§‹åŒ–ï¼Œåˆå§‹åŒ–å¯¹è±¡ä¸ºå¦ä¸€ä¸ªå˜é‡
        <ul>
          <li><code class="highlighter-rouge">int &amp;val1 = val2;</code></li>
          <li>å¼•ç”¨å˜é‡å’ŒåŸå˜é‡æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œæ˜¯ä¸€ç§<strong>binding</strong>å…³ç³»</li>
        </ul>

        <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">r1</span><span class="o">=</span><span class="n">i</span><span class="p">;</span>
  	<span class="kt">double</span> <span class="n">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">r2</span><span class="o">=</span><span class="n">d</span><span class="p">;</span>
  	<span class="n">cout</span><span class="o">&lt;&lt;&amp;</span><span class="n">i</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span> <span class="c1">//0x7ffee56b1538</span>
  	<span class="n">cout</span><span class="o">&lt;&lt;&amp;</span><span class="n">r1</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span> <span class="c1">//0x7ffee56b1538</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>const</strong>
    <ul>
      <li>å®šä¹‰constå¯¹è±¡å¿…é¡»åˆå§‹åŒ–</li>
      <li>é»˜è®¤æƒ…å†µä¸‹constå¯¹è±¡åªåœ¨å½“å‰æ–‡ä»¶å†…æœ‰æ•ˆï¼Œå¦‚æœè¦åœ¨ä¸åŒæ–‡ä»¶ä¸­å…±äº«<code class="highlighter-rouge">const</code>ï¼Œåœ¨å¤´æ–‡ä»¶ä¸­æ·»åŠ å£°æ˜ï¼Œåœ¨<code class="highlighter-rouge">.c</code>æ–‡ä»¶ä¸­å®šä¹‰
        <ul>
          <li>åœ¨<code class="highlighter-rouge">.h</code>æ–‡ä»¶ä¸­å£°æ˜ï¼š<code class="highlighter-rouge">extern const int buff;</code></li>
          <li>åœ¨<code class="highlighter-rouge">.c</code>æ–‡ä»¶ä¸­å®šä¹‰ï¼š<code class="highlighter-rouge">extern const int bufSize = fcn();</code></li>
        </ul>
      </li>
      <li>å¦‚æœç”¨<code class="highlighter-rouge">const</code>å®šä¹‰æŒ‡é’ˆï¼Œ
        <ul>
          <li><mark>é¡¶å±‚(top-level)`const`æŒ‡çš„æ˜¯æŒ‡é’ˆæœ¬èº«æ˜¯å¸¸é‡</mark></li>
          <li><mark>åº•å±‚(low-level)`const`æŒ‡çš„æ˜¯è¿™ä¸ªæŒ‡é’ˆæ˜¯ä¸€ä¸ªæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ</mark></li>
        </ul>

        <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
  <span class="kt">int</span> <span class="o">*</span><span class="k">const</span> <span class="n">p1</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">;</span> <span class="c1">//é¡¶å±‚constï¼Œp1çš„å€¼ä¸èƒ½æ”¹å˜ï¼Œå¯ä»¥æ”¹å˜å®ƒæŒ‡å‘çš„å€¼</span>
  <span class="k">const</span> <span class="kt">int</span> <span class="n">ci</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>	<span class="c1">//é¡¶å±‚const</span>
  <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">p2</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">ci</span><span class="p">;</span> <span class="c1">//åº•å±‚constï¼Œå…è®¸æ”¹å˜p2çš„å€¼</span>
</code></pre></div>        </div>
        <ul>
          <li>å¸¸é‡è¡¨è¾¾å¼ï¼Œ<strong>constexpr</strong>	,å¦‚æœæŸä¸ª<code class="highlighter-rouge">const</code>å˜é‡çš„å€¼åœ¨ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šï¼Œå¯ä»¥å°†å…¶å®šä¹‰ä¸ºå¸¸é‡è¡¨è¾¾å¼</li>
        </ul>

        <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">const</span> <span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span> <span class="c1">//æ˜¯å¸¸é‡è¡¨è¾¾å¼</span>
  <span class="k">const</span> <span class="kt">int</span> <span class="n">limit</span> <span class="o">=</span> <span class="n">max</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="c1">//æ˜¯å¸¸é‡è¡¨è¾¾å¼</span>
  <span class="kt">int</span> <span class="n">sz</span> <span class="o">=</span> <span class="mi">29</span><span class="p">;</span> <span class="c1">//ä¸æ˜¯</span>
  <span class="k">const</span> <span class="kt">int</span> <span class="n">buff_size</span> <span class="o">=</span> <span class="n">get_size</span><span class="p">()</span><span class="c1">//ä¸æ˜¯ï¼Œå› ä¸ºbuff_sizeçš„å€¼è¦åœ¨è¿è¡Œæ—¶å†³å®š</span>
</code></pre></div>        </div>
        <ul>
          <li>å¦‚æœæ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼Œå¯ä»¥ç”¨<code class="highlighter-rouge">constexpr</code>æ¥å®šä¹‰å˜é‡ï¼Œè€Œä¸”å¿…é¡»ç”¨å¸¸é‡è¡¨è¾¾å¼æ¥åˆå§‹åŒ–</li>
        </ul>

        <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">constexpr</span> <span class="kt">int</span> <span class="n">mf</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>	<span class="c1">//20æ˜¯å¸¸é‡è¡¨è¾¾å¼</span>
  <span class="n">constexpr</span> <span class="kt">int</span> <span class="n">limit</span> <span class="o">=</span> <span class="n">mf</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="c1">//mf+1æ˜¯å¸¸é‡è¡¨è¾¾å¼</span>
  <span class="n">constexpr</span> <span class="kt">int</span> <span class="n">sz</span> <span class="o">=</span> <span class="n">size</span><span class="p">();</span> <span class="c1">//åªæœ‰å½“size()æ˜¯ä¸€ä¸ªconstexprå‡½æ•°æ—¶ï¼Œæ‰æ­£ç¡®</span>
</code></pre></div>        </div>
        <ul>
          <li>å¦‚æœç”¨<code class="highlighter-rouge">constexpr</code>å®šä¹‰æŒ‡é’ˆï¼Œè¦æ³¨æ„ï¼Œå¾—åˆ°çš„æŒ‡é’ˆæ˜¯ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆï¼Œåˆå§‹å€¼å¿…é¡»è¦èƒ½åœ¨ç¼–è¯‘æ—¶ç¡®å®š</li>
        </ul>

        <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">constexpr</span> <span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">nullptr</span><span class="p">;</span> <span class="c1">//å®šä¹‰äº†ä¸€ä¸ªæŒ‡å‘æ•´æ•°çš„å¸¸é‡æŒ‡é’ˆï¼Œå€¼ä¸º0</span>
  <span class="k">const</span> <span class="kt">int</span> <span class="o">*</span><span class="n">q</span> <span class="o">=</span> <span class="n">nullptr</span><span class="p">;</span> <span class="c1">//å®šä¹‰äº†ä¸€ä¸ªæŒ‡å‘æ•´å‹çš„å¸¸é‡æŒ‡é’ˆï¼Œæ³¨æ„åŒºåˆ«</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>type alias</strong>
    <ul>
      <li><code class="highlighter-rouge">using</code> ï¼šç±»ä¼¼<code class="highlighter-rouge">typedef</code>
        <ul>
          <li><code class="highlighter-rouge">using SI = sales_item; SI item;</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>auto</strong>
    <ul>
      <li><mark>C++11</mark>æ–°çš„ç±»å‹è¯´æ˜ä½œç¬¦ï¼Œè®©ç¼–è¯‘å™¨æ¨æ–­å˜é‡ç±»å‹ï¼Œå› æ­¤ä½¿ç”¨<code class="highlighter-rouge">auto</code>å®šä¹‰çš„å˜é‡å¿…é¡»è¦æœ‰åˆå€¼</li>
      <li><code class="highlighter-rouge">auto item = val1 + val2;</code></li>
      <li>ä½¿ç”¨<code class="highlighter-rouge">auto</code>è¦æ³¨æ„<code class="highlighter-rouge">const</code>çš„æƒ…å†µ</li>
    </ul>

    <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">const</span> <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">100</span><span class="p">;</span>
  <span class="k">auto</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">;</span>
  <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mi">111</span><span class="p">;</span> <span class="c1">//error, i is a real-only </span>
</code></pre></div>    </div>
  </li>
  <li><strong>decltype</strong>
    <ul>
      <li><mark>C++11</mark>æ–°çš„ç±»å‹è¯´æ˜ç¬¦ï¼Œå®ƒçš„ä½œç”¨æ˜¯é€‰æ‹©å¹¶è¿”å›è¡¨è¾¾å¼çš„æ•°æ®ç±»å‹ï¼Œç¼–è¯‘å™¨åªåšç±»å‹æ¨æ–­ï¼Œä¸è¿›è¡Œè¡¨è¾¾å¼æ±‚è§£</li>
    </ul>

    <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">decltype</span><span class="p">(</span><span class="n">f</span><span class="p">())</span> <span class="n">sum</span> <span class="n">x</span><span class="p">;</span> <span class="c1">//ç¼–è¯‘å™¨å¹¶ä¸å®é™…è°ƒç”¨f</span>
</code></pre></div>    </div>
    <ul>
      <li>å¦‚æœ<code class="highlighter-rouge">decltype</code>ä¸­çš„è¡¨è¾¾å¼æ˜¯æŒ‡é’ˆå–å€¼æ“ä½œï¼Œå¾—åˆ°çš„ç±»å‹æ˜¯å¼•ç”¨ç±»å‹</li>
    </ul>

    <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
  <span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">;</span>
  <span class="n">decltype</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="n">c</span><span class="p">;</span> <span class="c1">//é”™è¯¯ï¼Œdecltype(*p)è¿”å›çš„ç»“æœæ˜¯int&amp;ï¼Œå› æ­¤å¿…é¡»èµ‹åˆå€¼</span>
</code></pre></div>    </div>
    <ul>
      <li>å¦‚æœ<code class="highlighter-rouge">decltype</code>åé¢çš„è¡¨è¾¾å¼åŠ ä¸Šäº†ä¸€å¯¹æ‹¬å·ï¼Œè¿”å›çš„ç»“æœæ˜¯å¼•ç”¨</li>
    </ul>

    <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">decltype</span><span class="p">((</span><span class="n">i</span><span class="p">))</span> <span class="n">d</span><span class="p">;</span> <span class="c1">//é”™è¯¯ï¼š dæ˜¯int&amp;, å¿…é¡»åˆå§‹åŒ–</span>
  <span class="n">decltype</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="n">d</span><span class="p">;</span> <span class="c1">//æ­£ç¡®ï¼› dæ˜¯intå‹å˜é‡</span>
</code></pre></div>    </div>
  </li>
  <li><strong>typeid</strong></li>
</ul>

<p><mark>C++11</mark>ä¸­å¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">typeid</code>å¾—åˆ°ç¬¦å·çš„æ··æ·†ï¼ˆmanglingï¼‰ç»“æœ</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
	<span class="n">string</span> <span class="n">s</span><span class="p">;</span>
	<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="k">typeid</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="n">name</span><span class="p">()</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span> <span class="c1">//NSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="å­—ç¬¦ä¸²å‘é‡æ•°ç»„">å­—ç¬¦ä¸²ï¼Œå‘é‡ï¼Œæ•°ç»„</h2>

<h3 id="å¤´æ–‡ä»¶">å¤´æ–‡ä»¶</h3>

<ul>
  <li>
    <p>åŸCä¸­çš„åº“å‡½æ•°æ–‡ä»¶å®šä¹‰å½¢å¼ä¸º<code class="highlighter-rouge">name.h</code>ï¼Œåœ¨C++ä¸­ç»Ÿä¸€ä½¿ç”¨<code class="highlighter-rouge">&lt;cname&gt;</code>è¿›è¡Œæ›¿æ¢ï¼Œå»æ‰äº†<code class="highlighter-rouge">.h</code>ï¼Œåœ¨å‰é¢å¢åŠ å­—æ¯<code class="highlighter-rouge">c</code>ã€‚åœ¨<code class="highlighter-rouge">cname</code>ä¸­å®šä¹‰çš„å‡½æ•°ä»å±äºæ ‡å‡†åº“å‘½åç©ºé—´<code class="highlighter-rouge">std</code></p>
  </li>
  <li>
    <p>å°½é‡ä¸è¦åœ¨å¤´æ–‡ä»¶ä¸­ä¸åŒ…å«<code class="highlighter-rouge">using</code>å£°æ˜</p>
  </li>
</ul>

<h3 id="stirng">stirng</h3>

<p>stringç±»æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š<code class="highlighter-rouge">typedef basic_string&lt;char&gt; string;</code></p>

<ul>
  <li>åˆå§‹åŒ–</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stirng</span> <span class="n">s1</span><span class="p">;</span> <span class="c1">//é»˜è®¤åˆå§‹åŒ–ï¼Œs1æ˜¯ç©ºä¸²</span>
<span class="n">string</span> <span class="nf">s2</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span> <span class="c1">//æ‹·è´åˆå§‹åŒ–</span>
<span class="n">string</span> <span class="n">s3</span><span class="o">=</span><span class="n">s1</span><span class="p">;</span> <span class="c1">//æ‹·è´åˆå§‹åŒ–</span>
<span class="n">string</span> <span class="nf">s4</span><span class="p">(</span><span class="s">"value"</span><span class="p">);</span> <span class="c1">//æ‹·è´å¸¸é‡å­—ç¬¦ä¸²</span>
<span class="n">string</span> <span class="n">s5</span> <span class="o">=</span> <span class="s">"value"</span><span class="p">;</span> <span class="c1">//å’Œä¸Šé¢ç›¸åŒ</span>
<span class="n">string</span> <span class="nf">s6</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="sc">'c'</span><span class="p">);</span> <span class="c1">//é‡å¤cåæ¬¡</span>
<span class="c1">//ä» const char* åˆå§‹åŒ–</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">cp</span> <span class="o">=</span> <span class="s">"Hello World!!!"</span><span class="p">;</span>
<span class="n">string</span> <span class="nf">s7</span><span class="p">(</span><span class="n">cp</span><span class="p">);</span>
</code></pre></div></div>
<ul>
  <li>å­ä¸²</li>
</ul>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">substr(pos,n)</code></td>
      <td>è¿”å›ä¸€ä¸ªstringï¼ŒåŒ…å«sä¸­ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦çš„æ‹·è´ã€‚posé»˜è®¤å€¼ä¸º0ï¼Œnçš„é»˜è®¤å€¼ä¸º<code class="highlighter-rouge">s.size()-pos</code>å³æ‹·è´ä»poså¼€å§‹çš„æ‰€æœ‰å­—ç¬¦</td>
    </tr>
  </tbody>
</table>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span> <span class="nf">s</span><span class="p">(</span><span class="s">"hello world"</span><span class="p">);</span>
<span class="n">string</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span> <span class="c1">// s2 = hello</span>
<span class="n">string</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span> <span class="c1">// s3 = world</span>
<span class="n">string</span> <span class="n">s4</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">11</span><span class="p">);</span> <span class="c1">// s3 = world</span>
<span class="n">string</span> <span class="n">s5</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span> <span class="c1">// throws an out_of_range exception</span>
</code></pre></div></div>

<ul>
  <li>ä¿®æ”¹å­—ç¬¦ä¸²</li>
</ul>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">s.insert(pos, str)</code></td>
      <td>åœ¨posçš„ä½ç½®<mark>ä¹‹å‰</mark>æ’å…¥<code class="highlighter-rouge">str</code>ï¼Œè¿”å›sçš„å¼•ç”¨</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">s.erase(pos,len)</code></td>
      <td>åˆ é™¤ä»poså¼€å§‹lené•¿åº¦çš„å­—ç¬¦ï¼Œå¦‚æœlenè¢«çœç•¥ï¼Œåˆ™åˆ é™¤ä»poså¼€å§‹ç›´åˆ°æœ«å°¾çš„å…¨éƒ¨å­—ç¬¦</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">s.append(str)</code></td>
      <td>è¿½åŠ <code class="highlighter-rouge">str</code>åœ¨æœ«å°¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">+ str</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">s.replace(pos, len, str)</code></td>
      <td>ä»posä½ç½®å¼€å§‹ï¼Œå‘ååˆ é™¤lenä¸ªå­—ç¬¦ï¼Œå¹¶åœ¨åˆ é™¤ä½ç½®æ’å…¥str</td>
    </tr>
  </tbody>
</table>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span> <span class="n">s</span><span class="p">(</span><span class="s">"C++ Primer"</span><span class="p">),</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span> <span class="c1">// initialize s and s2 to "C++ Primer"</span>
<span class="n">s</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="s">" 4th Ed."</span><span class="p">);</span> <span class="c1">// s == "C++ Primer 4th Ed."</span>
<span class="n">s</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="c1">// s == "C++ Primer Ed."</span>
<span class="n">s</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="s">"5th"</span><span class="p">);</span> <span class="c1">// s == "C++ Primer 5th Ed."</span>
<span class="n">s</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s">"Fifth"</span><span class="p">);</span> <span class="c1">// s == "C++ Primer Fifth Ed."</span>
</code></pre></div></div>
<ul>
  <li>æœç´¢å­ä¸²</li>
</ul>

<p>stringæä¾›äº†6ä¸ªä¸åŒçš„æœç´¢å‡½æ•°ï¼Œæ¯ä¸ªæœç´¢å‡½æ•°æœ‰4ä¸ªé‡è½½ç‰ˆæœ¬ã€‚æ¯ä¸ªæœç´¢æ“ä½œéƒ½è¿”å›<code class="highlighter-rouge">string::size_type</code>ç±»å‹ï¼Œè¡¨ç¤ºåŒ¹é…çš„ä¸‹æ ‡ç»“æœï¼Œå¦‚æœæœç´¢å¤±è´¥ï¼Œè¿”å›<code class="highlighter-rouge">string::npos</code>çš„staticæˆå‘˜ï¼Œ<code class="highlighter-rouge">npos</code>çš„ç±»å‹ä¸º<code class="highlighter-rouge">const string::size_type</code>ï¼Œå€¼ä¸º<code class="highlighter-rouge">-1</code></p>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">s.find(str)</code></td>
      <td>è¿”å›<code class="highlighter-rouge">str</code>é¦–æ¬¡å‡ºç°çš„ä½ç½®</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">s.rfind(str)</code></td>
      <td>åå‘æŸ¥æ‰¾ï¼Œè¿”å›<code class="highlighter-rouge">str</code>æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">s.find_first_of(str)</code></td>
      <td>åœ¨sä¸­æŸ¥æ‰¾<code class="highlighter-rouge">str</code>ä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">s.find_last_of(str)</code></td>
      <td>åå‘æŸ¥æ‰¾ï¼Œåœ¨sä¸­æŸ¥æ‰¾<code class="highlighter-rouge">str</code>ä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">s.find_first_not_of(str)</code></td>
      <td>åœ¨sä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸åœ¨<code class="highlighter-rouge">str</code>ä¸­å­—ç¬¦çš„ä½ç½®</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">s.find_last_not_of(str)</code></td>
      <td>åå‘æŸ¥æ‰¾ï¼Œåœ¨sä¸­æŸ¥æ‰¾æœ€åä¸€ä¸ªä¸åœ¨<code class="highlighter-rouge">str</code>ä¸­å­—ç¬¦çš„ä½ç½®</td>
    </tr>
  </tbody>
</table>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span> <span class="nf">name</span><span class="p">(</span><span class="s">"AnnaBelle"</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">pos1</span> <span class="o">=</span> <span class="n">name</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"Anna"</span><span class="p">);</span>  <span class="c1">// pos1 == 0</span>
<span class="n">string</span> <span class="nf">lowercase</span><span class="p">(</span><span class="s">"annabelle"</span><span class="p">);</span>
<span class="n">pos1</span> <span class="o">=</span> <span class="n">lowercase</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"Anna"</span><span class="p">);</span>   <span class="c1">// pos1 == npos</span>

<span class="c1">// returns 1, åœ¨nameä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ•°å­—çš„index</span>
<span class="n">string</span> <span class="nf">numbers</span><span class="p">(</span><span class="s">"0123456789"</span><span class="p">),</span> <span class="n">name</span><span class="p">(</span><span class="s">"r2d2"</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">name</span><span class="p">.</span><span class="n">find_first_of</span><span class="p">(</span><span class="n">numbers</span><span class="p">);</span> <span class="c1">//returns 1</span>
<span class="c1">//  æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸æ˜¯æ•°å­—çš„å­—ç¬¦ä½ç½®</span>
<span class="n">string</span> <span class="nf">dept</span><span class="p">(</span><span class="s">"03714p3"</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">dept</span><span class="p">.</span><span class="n">find_first_not_of</span><span class="p">(</span><span class="n">numbers</span><span class="p">);</span> <span class="c1">//returns 5,</span>
</code></pre></div></div>

<ul>
  <li>æ•°å€¼è½¬æ¢</li>
</ul>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">to_string(val)</code></td>
      <td>ä¸€ç»„é‡è½½å‡½æ•°ï¼Œè¿”å›æ•°å€¼<code class="highlighter-rouge">val</code>çš„stringè¡¨ç¤º</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">stoi(s,p,b)</code></td>
      <td>è¿”å›så¯¹åº”æ•°å€¼ï¼Œpé»˜è®¤å€¼ä¸º10ï¼Œ bé»˜è®¤æ˜¯0</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">stol(s,p,b)</code></td>
      <td>Â </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">stoul(s,p,b)</code></td>
      <td>Â </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">stoll(s,p,b)</code></td>
      <td>Â </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">stoull(s,p,b)</code></td>
      <td>Â </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">stod(s,p,b)</code></td>
      <td>Â </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">stof(s,p,b)</code></td>
      <td>Â </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">stold(s,p,b)</code></td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<h3 id="vector">vector</h3>

<ul>
  <li>åˆå§‹åŒ–</li>
</ul>

<p>å¯ä½¿ç”¨å€¼åˆå§‹åŒ–ï¼Œå’Œåˆå§‹åŒ–åˆ—è¡¨ï¼Œå½“ç¼–è¯‘å™¨ç¡®è®¤æ— æ³•ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ—¶ï¼Œä¼šå°†èŠ±æ‹¬å·ä¸­çš„å†…å®¹ä½œä¸ºå·²æœ‰çš„æ„é€ å‡½æ•°å‚æ•°</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">//ä½¿ç”¨å€¼åˆå§‹åŒ–ï¼Œåˆ›å»º10ä¸ªå…ƒç´ çš„å®¹å™¨</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span> <span class="c1">//ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ï¼Œåˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œå‰ä¸‰ä¸ªå…ƒç´ æ˜¯1ï¼Œ2ï¼Œ3</span>

<span class="c1">//ä¸Šè¿°ä»£ç ç­‰ä»·äº:</span>
<span class="n">initializer_list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">};</span>        
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">(</span><span class="n">list</span><span class="p">);</span>

<span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">{</span><span class="s">"ab"</span><span class="p">,</span><span class="s">"cd"</span><span class="p">}</span> <span class="c1">//ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ï¼Œåˆ›å»ºä¸€ä¸ªstringå®¹å™¨ï¼Œå¹¶åˆå§‹åŒ–å‰ä¸¤ä¸ªå…ƒç´ </span>
<span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">{</span><span class="mi">10</span><span class="p">};</span> <span class="c1">//aæ˜¯ä¸€ä¸ªé»˜è®¤æœ‰10ä¸ªåˆå§‹åŒ–å…ƒç´ çš„å®¹å™¨ï¼Œç±»å‹ä¸åŒï¼Œä¸æ˜¯åˆå§‹åŒ–åˆ—è¡¨ï¼Œé€€åŒ–ä¸ºå€¼åˆå§‹åŒ–</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">{</span><span class="mi">10</span><span class="p">,</span><span class="s">"hi"</span><span class="p">};</span> <span class="c1">//aæ˜¯ä¸€ä¸ªé»˜è®¤æœ‰10ä¸ªåˆå§‹åŒ–å…ƒç´ çš„å®¹å™¨ï¼Œç±»å‹ä¸åŒï¼Œä¸æ˜¯åˆå§‹åŒ–åˆ—è¡¨ï¼Œé€€åŒ–ä¸ºå€¼åˆå§‹åŒ–</span>
</code></pre></div></div>

<ul>
  <li>å†…å­˜å¢é•¿</li>
</ul>

<p>vectorå†…éƒ¨æ˜¯è¿ç»­å­˜å‚¨ï¼Œå°¾éƒ¨<code class="highlighter-rouge">push</code>æ•ˆç‡é«˜ï¼Œ<code class="highlighter-rouge">insert</code>æ“ä½œä¼šå¾ˆä½æ•ˆï¼Œéœ€è¦é‡æ–°åˆ†é…ç©ºé—´å¹¶ç§»åŠ¨å…ƒç´ ã€‚å› æ­¤vectoråœ¨å†…éƒ¨å®ç°ä¸Šä¼šåšæŸäº›ä¼˜åŒ–æ¥å‡å°‘å¯¹å†…å­˜çš„é¢‘ç¹æ“ä½œï¼Œå…¶ç­–ç•¥æ˜¯é¢„å…ˆåˆ†é…å¤§äº<code class="highlighter-rouge">size</code>çš„ç©ºé—´ã€‚å¯ä»¥é€šè¿‡<code class="highlighter-rouge">capacity</code>å’Œ<code class="highlighter-rouge">reserve</code>æ¥å¹²é¢„å†…å­˜åˆ†é…</p>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">c.shrink_to_fit()</code></td>
      <td>å°†<code class="highlighter-rouge">capacity()</code>å‡å°‘ä¸ºå’Œ<code class="highlighter-rouge">size()</code>ç›¸åŒå¤§å°</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">c.capacity()</code></td>
      <td>ä¸é‡æ–°åˆ†é…ç©ºé—´çš„å‰æä¸‹ï¼Œèƒ½å­˜å‚¨çš„æœ€å¤§å…ƒç´ ä¸ªæ•°</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">c.reserve(n)</code></td>
      <td>æ‰‹åŠ¨æŒ‡å®š<code class="highlighter-rouge">vector</code>å¤§å°ï¼Œåˆ†é…è‡³å°‘èƒ½å®¹çº³<code class="highlighter-rouge">n</code>ä¸ªå…ƒç´ çš„ç©ºé—´ï¼Œåœ¨æ‰§è¡Œ<code class="highlighter-rouge">reserve(n)</code>åï¼Œ<code class="highlighter-rouge">capacity()</code>è¿”å›çš„å€¼åº”è¯¥å¤§äºç­‰äº<code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vc</span><span class="p">;</span>
<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"ivec: size: "</span><span class="o">&lt;&lt;</span><span class="n">vc</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">&lt;&lt;</span><span class="s">" capacity: "</span><span class="o">&lt;&lt;</span><span class="n">vc</span><span class="p">.</span><span class="n">capacity</span><span class="p">()</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">size_type</span> <span class="n">ix</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">ix</span> <span class="o">!=</span> <span class="mi">24</span><span class="p">;</span> <span class="o">++</span><span class="n">ix</span><span class="p">){</span>
	<span class="n">vc</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ix</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"ivec: size: "</span><span class="o">&lt;&lt;</span><span class="n">vc</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">&lt;&lt;</span><span class="s">" capacity: "</span><span class="o">&lt;&lt;</span><span class="n">vc</span><span class="p">.</span><span class="n">capacity</span><span class="p">()</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>

<span class="c1">// ivec: size: 0 capacity: 0</span>
<span class="c1">// ivec: size: 24 capacity: 32</span>
</code></pre></div></div>

<ul>
  <li>ä½¿ç”¨è¿­ä»£å™¨</li>
</ul>

<p><mark>C++11</mark>ä¸­ï¼Œä¸è®ºé›†åˆå¯¹è±¡æ˜¯å¦æ˜¯constçš„ï¼Œä½¿ç”¨cbeginå¯ä»¥è¿”å›å¸¸é‡è¿­ä»£å™¨</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it2</span><span class="p">;</span>
<span class="c1">//åªè¯»è¿­ä»£å™¨</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">const_iterator</span> <span class="n">it3</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;::</span><span class="n">const_iterator</span> <span class="n">it4</span><span class="p">;</span>

<span class="c1">//å¦‚æœè®°ä¸ä½è¿­ä»£å™¨ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨autoè‡ªåŠ¨æ¨å¯¼</span>
<span class="k">auto</span> <span class="n">b</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="c1">//bè¡¨ç¤ºvçš„ç¬¬ä¸€ä¸ªå…ƒç´ </span>
<span class="k">auto</span> <span class="n">e</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="c1">//eè¡¨ç¤ºvçš„æœ€åä¸€ä¸ªå…ƒç´ </span>
<span class="k">auto</span> <span class="n">it1</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">cbegin</span><span class="p">();</span> <span class="c1">//</span>
<span class="k">auto</span> <span class="n">it2</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">cend</span><span class="p">();</span> <span class="c1">//cendåŒç†</span>
</code></pre></div></div>

<ul>
  <li>è¿­ä»£å™¨æ“ä½œ</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">*</span><span class="n">iter</span>
<span class="n">iter</span> <span class="o">-&gt;</span> <span class="n">mem</span> <span class="c1">//ç­‰ä»·äº (*iter).mem</span>
<span class="o">++</span><span class="n">iter</span>
<span class="o">--</span><span class="n">iter</span>
<span class="n">iter1</span> <span class="o">==</span> <span class="n">iter2</span>
<span class="n">iter1</span> <span class="o">!=</span> <span class="n">iter2</span>
</code></pre></div></div>

<h3 id="æ•°ç»„">æ•°ç»„</h3>

<ul>
  <li><mark>C++11</mark>æ–°å¢æ ‡å‡†åº“å‡½æ•°<code class="highlighter-rouge">begin</code>ï¼Œ<code class="highlighter-rouge">end</code>ï¼Œç”¨æ¥è¿”å›é™æ€æ•°ç»„çš„å¤´æŒ‡é’ˆå’Œå°¾æŒ‡é’ˆ</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">a</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">};</span>
<span class="kt">int</span> <span class="o">*</span><span class="n">pbeg</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">begin</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
<span class="kt">int</span> <span class="o">*</span><span class="n">pend</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">end</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
</code></pre></div></div>
<p>éå†æ•°ç»„æ— éœ€çŸ¥é“æ•°ç»„é•¿åº¦ï¼Œæœ‰å¤´å°¾æŒ‡é’ˆå³å¯</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">whlile</span><span class="p">(</span><span class="n">pbeg</span><span class="o">!=</span><span class="n">pend</span><span class="p">){</span>
	<span class="c1">//do sth..</span>
	<span class="n">pbeg</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ä½¿ç”¨æ•°ç»„æ¥åˆå§‹åŒ–<code class="highlighter-rouge">vector</code>ï¼Œç”±äºæ•°ç»„å­˜å‚¨æ˜¯è¿ç»­çš„ï¼Œå› æ­¤åªè¦æŒ‡æ˜è¿™ç‰‡å­˜å‚¨ç©ºé—´çš„é¦–å°¾åœ°å€å³å¯</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">arr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">}</span><span class="n">l</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vc</span><span class="p">(</span><span class="n">begin</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span> <span class="n">end</span><span class="p">(</span><span class="n">arr</span><span class="p">));</span>
</code></pre></div></div>

<h2 id="è¡¨è¾¾å¼">è¡¨è¾¾å¼</h2>

<h3 id="åŸºç¡€">åŸºç¡€</h3>

<ul>
  <li>è¿ç®—ç¬¦
    <ul>
      <li>ä¸€å…ƒè¿ç®—ç¬¦ï¼šä½œç”¨äºä¸€ä¸ªå¯¹è±¡çš„è¿ç®—ç¬¦ï¼Œå¦‚<code class="highlighter-rouge">&amp;</code>,<code class="highlighter-rouge">*</code></li>
      <li>äºŒå…ƒè¿ç®—ç¬¦ï¼šä½œç”¨äºä¸¤ä¸ªå¯¹è±¡çš„è¿ç®—ç¬¦ï¼Œå¦‚<code class="highlighter-rouge">=</code>,<code class="highlighter-rouge">==</code>,<code class="highlighter-rouge">+</code></li>
    </ul>
  </li>
  <li>å·¦å€¼
    <ul>
      <li>å½“ä¸€ä¸ªå¯¹è±¡è¢«ç”¨ä½œå·¦å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„èº«ä»½ï¼ˆåœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼‰ï¼Œå› æ­¤å·¦å€¼æœ‰åå­—</li>
      <li>å·¦å€¼æ˜¯å®šä¹‰çš„å˜é‡ï¼Œå¯ä»¥è¢«èµ‹å€¼</li>
      <li>å¦‚æœå‡½æ•°çš„è¿”å›å€¼æ˜¯å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿”å›å€¼æ˜¯å·¦å€¼</li>
    </ul>
  </li>
  <li>å³å€¼
    <ul>
      <li>å½“ä¸€ä¸ªå¯¹è±¡è¢«ç”¨ä½œå³å€¼çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯å¯¹è±¡çš„å€¼ï¼ˆå†…å®¹ï¼‰ï¼Œå› æ­¤å³å€¼æ²¡æœ‰åå­—</li>
      <li>å³å€¼æ˜¯ä¸´æ—¶å˜é‡ï¼Œä¸èƒ½è¢«èµ‹å€¼</li>
      <li>å¦‚æœå‡½æ•°çš„è¿”å›å€¼æ˜¯æ•°å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿”å›å€¼æ˜¯å³å€¼</li>
    </ul>
  </li>
</ul>

<h3 id="é€’å¢å’Œé€’å‡è¿ç®—ç¬¦">é€’å¢å’Œé€’å‡è¿ç®—ç¬¦</h3>

<ul>
  <li><code class="highlighter-rouge">++i</code>: å°†<code class="highlighter-rouge">i</code>å…ˆ+1åï¼Œä½œä¸ºå·¦å€¼è¿”å›ï¼Œè¿”å›çš„è¿˜æ˜¯<code class="highlighter-rouge">i</code>æœ¬èº«</li>
  <li><code class="highlighter-rouge">i++</code>: å…ˆå°†içš„æ‹·è´ä½œä¸ºå³å€¼è¿”å›ï¼Œç„¶åæ‰§è¡Œ<code class="highlighter-rouge">i+1</code></li>
  <li>é™¤éå¿…é¡»ï¼Œå¦åˆ™ä¸ç”¨åç½®ç‰ˆæœ¬</li>
</ul>

<h2 id="è¯­å¥">è¯­å¥</h2>

<h3 id="è¿­ä»£è¯­å¥">è¿­ä»£è¯­å¥</h3>

<ul>
  <li>èŒƒå›´forå¾ªç¯</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for(declaration: expression){
	statement
}
</code></pre></div></div>
<p><mark><mark>C++11</mark></mark>æä¾›äº†è¿™ç§ç®€ä¾¿çš„forå¾ªç¯è¯­å¥</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span>
<span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="o">&amp;</span><span class="n">r</span> <span class="o">:</span> <span class="n">v</span><span class="p">){</span> <span class="c1">//ä½¿ç”¨autoæ¥å¤„ç†ç±»å‹</span>
	<span class="o">/</span><span class="err"></span><span class="o">/</span><span class="err">æ³¨æ„ï¼Œå¼•ç”¨ä¼šä¿®æ”¹åŸå¯¹è±¡</span>
	<span class="n">r</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="å¼‚å¸¸å¤„ç†">å¼‚å¸¸å¤„ç†</h3>

<ul>
  <li>ä½¿ç”¨<code class="highlighter-rouge">throw</code>æŠ›å‡ºå¼‚å¸¸</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="o">!=</span><span class="n">b</span><span class="p">){</span>
	<span class="k">throw</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span> <span class="c1">//throw ä¸€ä¸ªintå‹çš„å¼‚å¸¸</span>
	<span class="k">throw</span><span class="p">(</span><span class="s">"exception"</span><span class="p">);</span> <span class="c1">//throw ä¸€ä¸ªstringå‹çš„å¼‚å¸¸</span>
	<span class="k">throw</span> <span class="n">runtime_error</span><span class="p">(</span><span class="s">"runtime error"</span><span class="p">);</span> <span class="c1">//throw ä¸€ä¸ªruntime error</span>
<span class="p">}</span>
</code></pre></div></div>
<ul>
  <li>ä½¿ç”¨<code class="highlighter-rouge">try-catch</code>æ•è·å¼‚å¸¸</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">bool</span> <span class="n">err1</span> <span class="o">=</span> <span class="nb">true</span><span class="p">,</span> <span class="n">err2</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="k">try</span><span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="n">err1</span><span class="p">){</span>
		<span class="k">if</span><span class="p">(</span><span class="n">err2</span><span class="p">){</span>
			<span class="k">throw</span> <span class="n">runtime_error</span><span class="p">(</span><span class="s">"runtime error!"</span><span class="p">);</span><span class="c1">//å‘ä¸Šä¼ é€’ï¼Œä¼šè¢«æœ€å¤–å±‚catch</span>
		<span class="p">}</span>
	<span class="p">}</span><span class="k">else</span><span class="p">{</span>
		<span class="k">throw</span> <span class="n">string</span><span class="p">(</span><span class="s">"err1"</span><span class="p">);</span>
		<span class="c1">// throw 8;</span>
	<span class="p">}</span>
<span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="n">string</span> <span class="n">exc</span><span class="p">){</span>
	<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">exc</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="kt">int</span> <span class="n">exc</span><span class="p">){</span>
	<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">exc</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span><span class="k">catch</span> <span class="p">(</span><span class="n">runtime_error</span> <span class="n">err</span><span class="p">){</span> 
	<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">err</span><span class="p">.</span><span class="n">what</span><span class="p">()</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<blockquote>
  <p>å¦‚æœæ˜¯éå†…æ ¸çš„é”™è¯¯ï¼Œcatchåˆ°åç¨‹åºä»å¯ç»§ç»­è¿è¡Œ</p>
</blockquote>

<ul>
  <li>æ ‡å‡†å¼‚å¸¸
    <ul>
      <li><code class="highlighter-rouge">exception</code>ç±»ï¼Œå¤´æ–‡ä»¶<code class="highlighter-rouge">&lt;exception&gt;</code></li>
    </ul>

    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">exception</span> <span class="p">{</span>
      <span class="nl">public:</span>
      <span class="n">exception</span> <span class="p">()</span> <span class="k">throw</span><span class="p">();</span>
      <span class="n">exception</span> <span class="p">(</span><span class="k">const</span> <span class="n">exception</span><span class="o">&amp;</span><span class="p">)</span> <span class="k">throw</span><span class="p">();</span>
      <span class="n">exception</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="n">exception</span><span class="o">&amp;</span><span class="p">)</span> <span class="k">throw</span><span class="p">();</span>
      <span class="k">virtual</span> <span class="o">~</span><span class="n">exception</span><span class="p">()</span> <span class="k">throw</span><span class="p">();</span>
      <span class="k">virtual</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">what</span><span class="p">()</span> <span class="k">const</span> <span class="k">throw</span><span class="p">();</span>
      <span class="p">}</span>
</code></pre></div>    </div>

    <ul>
      <li><code class="highlighter-rouge">&lt;stdexception&gt;</code>ä¸­å®šä¹‰äº†å‡ ç§å¸¸ç”¨çš„å¼‚å¸¸ç±»ç»§æ‰¿è‡ª<code class="highlighter-rouge">exception</code>ç±»
        <ul>
          <li><code class="highlighter-rouge">runtime_error</code> : è¿è¡Œæ—¶å¼‚å¸¸</li>
          <li><code class="highlighter-rouge">range_error</code>: è¿è¡Œæ—¶é”™è¯¯ï¼Œç”Ÿæˆçš„ç»“æœè¶…å‡ºäº†æœ‰æ„ä¹‰çš„å€¼åŸŸèŒƒå›´</li>
          <li><code class="highlighter-rouge">overflow_error</code>: è¿è¡Œæ—¶é”™è¯¯ï¼Œè®¡ç®—ä¸Šæº¢</li>
          <li><code class="highlighter-rouge">underflow_error</code>: è¿è¡Œæ—¶é”™è¯¯ï¼Œè®¡ç®—ä¸‹æº¢</li>
          <li><code class="highlighter-rouge">logic_error</code>: é€»è¾‘é”™è¯¯</li>
        </ul>
      </li>
      <li><code class="highlighter-rouge">new</code>çš„å¤´æ–‡ä»¶å®šä¹‰äº†<code class="highlighter-rouge">bad_alloc</code>ç±»å‹çš„å¼‚å¸¸</li>
    </ul>

    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
      <span class="k">try</span><span class="p">{</span>
          <span class="kt">char</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="mi">99999999999999999</span><span class="p">];</span>
          <span class="k">delete</span><span class="p">[]</span> <span class="n">p</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">catch</span> <span class="p">(</span><span class="n">bad_alloc</span> <span class="n">e</span><span class="p">){</span>
          <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"catch error:"</span><span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>    </div>
    <ul>
      <li><code class="highlighter-rouge">type_info</code>å¤´æ–‡ä»¶å®šä¹‰äº†<code class="highlighter-rouge">bad_cast</code>å¼‚å¸¸ç±»å‹</li>
    </ul>
  </li>
  <li>è‡ªå®šä¹‰å¼‚å¸¸ç±»å‹</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyException</span><span class="o">:</span> <span class="k">public</span> <span class="n">exception</span><span class="p">{</span>
<span class="nl">public:</span>
     <span class="k">virtual</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">what</span><span class="p">()</span> <span class="k">const</span> <span class="k">throw</span><span class="p">(){</span><span class="c1">// const throw æ„æ€æ˜¯è¿™ä¸ªå‡½æ•°ä¸ä¼šæŠ›å‡ºå¼‚å¸¸</span>
        <span class="k">return</span> <span class="s">"MyExcepiton!"</span><span class="p">;</span>
     <span class="p">}</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="nf">throwException</span><span class="p">(){</span>
    <span class="k">throw</span> <span class="n">MyException</span><span class="p">();</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">throwException</span><span class="p">()</span> <span class="k">throw</span><span class="p">(){</span> <span class="c1">//å£°æ˜è¿™ä¸ªå‡½æ•°ä¸ä¼šæŠ›å¼‚å¸¸</span>
    <span class="k">throw</span> <span class="n">MyException</span><span class="p">();</span> <span class="c1">//ä¸ä¼šæŠ›å¼‚å¸¸è€Œæ˜¯ç›´æ¥å‡ºé”™</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">try</span><span class="p">{</span>
        <span class="n">throwException</span><span class="p">();</span>
    <span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="n">MyException</span> <span class="o">&amp;</span><span class="n">e</span><span class="p">){</span>
        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="å‡½æ•°">å‡½æ•°</h2>

<h3 id="å‚æ•°ä¼ é€’">å‚æ•°ä¼ é€’</h3>

<ul>
  <li>ä¼ å¼•ç”¨</li>
  <li>ä¼ å€¼(pass by value)
    <ul>
      <li>åŸºæœ¬æ•°æ®ç±»å‹ç›´æ¥æ‹·è´</li>
      <li>æŒ‡é’ˆå˜é‡ä¹Ÿæ˜¯æ‹·è´</li>
    </ul>
  </li>
  <li>ä½¿ç”¨å¸¸é‡å¼•ç”¨
    <ul>
      <li>å¦‚æœå‚æ•°ä¸­æœ‰å¼•ç”¨ç±»å‹ï¼Œå°†å…¶å£°æ˜ä¸º<code class="highlighter-rouge">const</code></li>
    </ul>
  </li>
  <li>æ•°ç»„åšå‡½æ•°å½¢å‚
    <ul>
      <li>éµå¾ªä¸¤ä¸ªè§„åˆ™ï¼š
        <ol>
          <li>ä¸å…è®¸æ‹·è´æ•°ç»„</li>
          <li>ä½¿ç”¨æ•°ç»„åšå‚æ•°æ—¶ï¼Œä¼ é€’æ•°ç»„ååšæŒ‡é’ˆæŒ‡å‘æ•°ç»„é¦–åœ°å€
            <ul>
              <li><code class="highlighter-rouge">void print(const int *) //ä¸‰è€…ç­‰ä»·</code></li>
              <li><code class="highlighter-rouge">void print(const int[]) //åªè¯»æ•°ç»„ï¼Œå½¢å‚å£°æ˜ä¸ºconst</code></li>
              <li><code class="highlighter-rouge">void print(const int[10])</code></li>
            </ul>
          </li>
          <li>ä¸Šè¿°å®šä¹‰å¯ä»¥æ³¨æ„åˆ°ï¼š<code class="highlighter-rouge">int *</code>å’Œ<code class="highlighter-rouge">int []</code>å®šä¹‰ç­‰ä»·</li>
        </ol>
      </li>
      <li>æ•°ç»„å¼•ç”¨
        <ul>
          <li>å¼•ç”¨å½¢å‚ç»‘å®šåˆ°å¯¹åº”çš„å®å‚ä¸Š</li>
          <li><code class="highlighter-rouge">void print(int (&amp;arr)[10]) //æ³¨æ„å‚æ•°åä¸¤ä¾§æ‹¬å·</code></li>
        </ul>
      </li>
      <li>å¤šç»´æ•°ç»„
        <ul>
          <li><code class="highlighter-rouge">void print(int (*matrix)[10]) //æŒ‡å‘å«æœ‰10ä¸ªæ•´æ•°çš„æ•°ç»„æŒ‡é’ˆ</code></li>
          <li><code class="highlighter-rouge">void print(int matrix[][10], int rowsize) //ç­‰ä»·å®šä¹‰</code></li>
        </ul>
      </li>
      <li>mainå‡½æ•°å‘½ä»¤è¡Œé€‰é¡¹
        <ul>
          <li><code class="highlighter-rouge">main(int argc, char* argv[])</code>
            <ul>
              <li>ç¬¬äºŒä¸ªå½¢å‚<code class="highlighter-rouge">argv</code>æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„å…ƒç´ æ˜¯å­—ç¬¦ä¸²çš„æŒ‡é’ˆ</li>
              <li>ç”±äºæŒ‡é’ˆå’Œæ•°ç»„åç­‰ä»·ï¼Œä¹Ÿå¯å°†å…¶ç”¨æŒ‡é’ˆè¡¨ç¤º
                <ul>
                  <li><code class="highlighter-rouge">main(int argc, char **argv) //argvæŒ‡å‘char*</code></li>
                </ul>
              </li>
              <li><code class="highlighter-rouge">argv</code>çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºç¨‹åºåç§°ï¼Œæœ‰æ„ä¹‰çš„å‚æ•°ä»<code class="highlighter-rouge">argv[1]</code>å¼€å§‹</li>
            </ul>

            <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s">"prog"</span><span class="p">;</span> <span class="c1">//ç¨‹åºåç§°</span>
  <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s">"-d"</span><span class="p">;</span>
  <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s">"-o"</span><span class="p">;</span>
  <span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s">"ofile"</span><span class="p">;</span>
  <span class="n">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="s">"data0"</span><span class="p">;</span>
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>å¯å˜å‚æ•°
    <ul>
      <li>ä½¿ç”¨å¯å˜å‚æ•°æ¨¡æ¿</li>
      <li>ä½¿ç”¨<code class="highlighter-rouge">initializer_list&lt;T&gt;</code>ç±»
        <ul>
          <li>æ— æ³•ä¿®æ”¹å‚æ•°åˆ—è¡¨ä¸­çš„å€¼</li>
          <li>æœ‰è¿­ä»£å™¨</li>
        </ul>

        <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kt">void</span> <span class="nf">err_msg</span><span class="p">(</span><span class="n">initializer_list</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">params</span><span class="p">){</span>
  	<span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">beg</span> <span class="o">=</span> <span class="n">params</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span> <span class="n">beg</span><span class="o">!=</span><span class="n">params</span><span class="p">.</span><span class="n">end</span><span class="p">();</span><span class="o">++</span><span class="n">beg</span><span class="p">){</span>
  	<span class="n">cout</span><span class="o">&lt;&lt;*</span><span class="n">beg</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
  	<span class="p">}}</span>
  <span class="n">err_msg</span><span class="p">({</span><span class="s">"function x"</span><span class="p">,</span><span class="s">"88"</span><span class="p">});</span> <span class="c1">//ä½¿ç”¨{...}æ„é€ </span>
  <span class="n">err_msg</span><span class="p">({</span><span class="s">"function x"</span><span class="p">,</span><span class="s">"88"</span><span class="p">,</span><span class="s">"100"</span><span class="p">});</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<h3 id="è¿”å›å€¼">è¿”å›å€¼</h3>

<ul>
  <li>è¿”å›å¼•ç”¨çš„å‡½æ•°ï¼Œè¿”å›å€¼å¯ä½œä¸ºå·¦å€¼ï¼›å…¶å®ƒè¿”å›ç±»å‹ï¼Œè¿”å›å€¼ä¸ºå³å€¼</li>
  <li>mainå‡½æ•°çš„è¿”å›å€¼ï¼š
    <ul>
      <li>å¦‚æœå‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸æ˜¯voidï¼Œé‚£ä¹ˆå‡½æ•°å¿…é¡»æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œ<code class="highlighter-rouge">main</code>å‡½æ•°æ˜¯ä¾‹å¤–ï¼Œå¦‚æœæ§åˆ¶åˆ°è¾¾äº†<code class="highlighter-rouge">main</code>å‡½æ•°çš„ç»“å°¾ï¼Œæ²¡æœ‰<code class="highlighter-rouge">return</code>è¯­å¥ï¼Œç¼–è¯‘å™¨ä¼šæ’å…¥<code class="highlighter-rouge">return 0</code></li>
    </ul>
  </li>
  <li>æ•°ç»„ä¸èƒ½æ‹·è´ï¼Œå› æ­¤å‡½æ•°ä¸èƒ½è¿”å›æ•°ç»„ï¼Œä½†å¯ä»¥è¿”å›ä¸€ä¸ª<mark>æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ</mark></li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span> <span class="c1">//arræ˜¯ä¸€ä¸ªå«æœ‰10ä¸ªæ•´æ•°çš„æ•°ç»„</span>
<span class="kt">int</span> <span class="o">*</span><span class="n">p1</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span> <span class="c1">//p1æ˜¯ä¸€ä¸ªå«æœ‰10ä¸ªæŒ‡é’ˆçš„æ•°ç»„</span>
<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">p2</span><span class="p">)[</span><span class="mi">10</span><span class="p">];</span>  <span class="c1">//p2æ˜¯ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆï¼Œè¿™ä¸ªæ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå«æœ‰10ä¸ªå…ƒç´ çš„æ•°ç»„</span>
</code></pre></div></div>
<p>ç»™å‡ºè¿”å›æ•°ç»„æŒ‡é’ˆçš„å‡½æ•°å®šä¹‰ä¸º:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Type (*function(parameter_list))[dimension]
</code></pre></div></div>
<p>ä¸Šé¢å¼å­ä¸­<code class="highlighter-rouge">Type</code>ä¸ºå…ƒç´ ç±»å‹ï¼Œ<code class="highlighter-rouge">dimension</code>ä¸ºæ•°ç»„å¤§å°ï¼Œä¾‹å¦‚:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">func</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">))[</span><span class="mi">10</span><span class="p">];</span>
</code></pre></div></div>
<p>å®ƒçš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ol>
  <li><code class="highlighter-rouge">func(int i)</code>è¡¨ç¤ºè°ƒç”¨<code class="highlighter-rouge">func</code>å‡½æ•°æ—¶éœ€è¦ä¸€ä¸ª<code class="highlighter-rouge">int</code>å‹çš„å®å‚</li>
  <li><code class="highlighter-rouge">(*func(int i))</code>è¡¨ç¤ºå¯¹å‡½æ•°è°ƒç”¨ç»“æœè¿›è¡Œè§£å¼•ç”¨æ“ä½œ</li>
  <li><code class="highlighter-rouge">(*func(int i))[10]</code>è¡¨ç¤ºè§£å¼•ç”¨æ“ä½œè¿”å›çš„æ˜¯ä¸€ä¸ªæœ‰10ä¸ªå…ƒç´ çš„æ•°ç»„</li>
  <li><code class="highlighter-rouge">int (*func(int i))[10]</code>è¡¨ç¤ºè¯¥æ•°ç»„çš„ç±»å‹æ˜¯<code class="highlighter-rouge">int</code></li>
</ol>

<h4 id="å°¾è¿”å›ç±»å‹tailing-return-type">å°¾è¿”å›ç±»å‹(tailing return type)</h4>

<ul>
  <li><mark>C++11</mark>æä¾›å°¾è¿”å›ç±»å‹ï¼Œç¬¦å·ä¸º<code class="highlighter-rouge">-&gt;</code></li>
  <li>å¯¹è¿”å›å€¼æ˜¯å¤æ‚çš„ç±»å‹çš„å‡½æ•°å¯ä»¥ç”¨lambdaè¡¨è¾¾å¼å®šä¹‰ï¼š</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//int (*func(int i))[10]çš„lambdaè¡¨è¾¾å¼å†™æ³•</span>
<span class="k">auto</span> <span class="n">func</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span><span class="o">-&gt;</span><span class="kt">int</span><span class="p">(</span><span class="o">*</span><span class="p">)[</span><span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>

<h4 id="ä½¿ç”¨decltype">ä½¿ç”¨<code class="highlighter-rouge">decltype</code></h4>

<p>å¯¹ä¸Šé¢çš„æƒ…å†µæ— è®ºæ˜¯åŸç”Ÿå†™æ³•è¿˜æ˜¯lambdaè¡¨è¾¾å¼éƒ½ä¸æ˜¯å¾ˆç›´è§‚ï¼Œä¸ªäººè®¤ä¸ºä½¿ç”¨<code class="highlighter-rouge">decltype</code>æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä¾‹å¦‚:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">even</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">};</span>
<span class="kt">int</span> <span class="n">odd</span><span class="p">[]</span>  <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">};</span>
<span class="c1">//è¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å«æœ‰5ä¸ªæ•´æ•°çš„æ•°ç»„</span>
<span class="k">decltype</span><span class="p">(</span><span class="n">odd</span><span class="p">)</span> <span class="o">*</span><span class="n">arrPtr</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">){</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">i</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">?&amp;</span><span class="n">even</span><span class="o">:&amp;</span><span class="n">odd</span><span class="p">;</span> <span class="c1">//è¿”å›ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ</span>
<span class="p">}</span>
</code></pre></div></div>
<p>ä½¿ç”¨<code class="highlighter-rouge">decltype(odd)</code>å¾—åˆ°äº†ä¸€ä¸ªæ•°ç»„ç±»å‹ï¼Œè¦è¿”å›æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆï¼Œå› æ­¤åé¢è¦åŠ ä¸Š<code class="highlighter-rouge">*</code></p>

<h3 id="é‡è½½overload">é‡è½½(Overload)</h3>

<p>å¦‚æœåŒä¸€ä½œç”¨åŸŸå†…çš„å‡ ä¸ªå‡½æ•°ï¼Œ<mark>åå­—ç›¸åŒï¼Œä½†å½¢å‚åˆ—è¡¨ä¸åŒ</mark>ï¼Œåˆ™ç§°ä¹‹ä¸ºå‡½æ•°é‡è½½ã€‚åœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®å®å‚ç±»å‹ç¡®å®šè°ƒç”¨å“ªä¸ªå‡½æ•°ã€‚</p>

<h4 id="cå…è®¸å‡½æ•°é‡è½½">C++å…è®¸å‡½æ•°é‡è½½</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">max</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span><span class="kt">int</span> <span class="n">b</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">max</span><span class="p">(</span><span class="kt">double</span> <span class="n">f1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">f2</span><span class="p">);</span>
</code></pre></div></div>

<p>ä¸Šé¢ä¸¤æ¡å‡½æ•°å£°æ˜åœ¨C++ä¸­ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯åœ¨Cä¸­å› ä¸ºå‡½æ•°çš„ç¬¦å·ç›¸åŒä¼šæŠ¥é”™</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">max</span><span class="p">(</span><span class="kt">double</span> <span class="n">a</span><span class="p">,</span><span class="kt">double</span> <span class="n">b</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">max</span><span class="p">(</span><span class="kt">double</span> <span class="n">f1</span><span class="p">,</span> <span class="kt">double</span> <span class="n">f2</span><span class="p">);</span> <span class="c1">//error</span>
</code></pre></div></div>

<p>ä¸Šé¢ä¸¤æ¡å‡½æ•°å£°æ˜ä¼šæŠ¥é”™ï¼Œå› ä¸ºä»…è¿”å›å€¼ç±»å‹ä¸åŒä¸å±äºé‡è½½ï¼Œå±äºæ–¹æ³•çš„é‡å¤å®šä¹‰ã€‚å¯¹äºå‡½æ•°é‡è½½ï¼Œå¿…é¡»è¦è¦æ±‚è¿”å›å€¼ç±»å‹ç›¸åŒ</p>

<h4 id="constå½¢å‚">constå½¢å‚</h4>

<p>å½“å½¢å‚ä¸­æœ‰<code class="highlighter-rouge">const</code>ä¿®é¥°æ—¶ï¼Œå¦‚æœæ˜¯é¡¶å±‚constï¼Œåˆ™ä¸ç®—åšé‡è½½ï¼Œå› æ­¤ä¸‹é¢ä¸¤ä¸ªå‡½æ•°å£°æ˜ä¸å±äºé‡è½½ï¼Œå®ƒä»¬æ˜¯ç­‰ä»·çš„ï¼š</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Record</span> <span class="nf">lookup</span><span class="p">(</span><span class="n">Phone</span> <span class="n">x</span><span class="p">);</span>
<span class="n">Record</span> <span class="nf">lookup</span><span class="p">(</span><span class="k">const</span> <span class="n">Phone</span> <span class="n">x</span><span class="p">);</span> <span class="c1">//é‡å¤å£°æ˜</span>

<span class="n">Record</span> 
</code></pre></div></div>
<p>ä½†æ˜¯å¦‚æœæ˜¯åº•å±‚<code class="highlighter-rouge">const</code>ï¼Œç”¨æ¥ä¿®é¥°æŒ‡é’ˆæˆ–è€…å¼•ç”¨ï¼Œåˆ™ç®—ä½œé‡è½½</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Record</span> <span class="nf">lookup</span><span class="p">(</span><span class="n">Account</span><span class="o">&amp;</span> <span class="p">);</span> <span class="c1">//å‡½æ•°ä½œç”¨äºAccountçš„å¼•ç”¨</span>
<span class="n">Record</span> <span class="nf">lookup</span><span class="p">(</span><span class="k">const</span> <span class="n">Account</span><span class="o">&amp;</span> <span class="p">);</span> <span class="c1">//æ–°å‡½æ•°ï¼Œä½œç”¨äºå¸¸é‡å¼•ç”¨</span>

<span class="n">Record</span> <span class="nf">lookup</span><span class="p">(</span><span class="n">Account</span><span class="o">*</span> <span class="p">);</span> <span class="c1">//å‡½æ•°ä½œç”¨äºæŒ‡å‘Accountçš„æŒ‡é’ˆ</span>
<span class="n">Record</span> <span class="nf">lookup</span><span class="p">(</span><span class="k">const</span> <span class="n">Account</span><span class="o">*</span> <span class="p">);</span> <span class="c1">//æ–°å‡½æ•°ï¼Œä½œç”¨äºæŒ‡å‘Accountå¸¸é‡çš„æŒ‡é’ˆ</span>
</code></pre></div></div>
<p>ä½¿ç”¨<code class="highlighter-rouge">const-cast</code>å¯ä»¥å®ç°å˜é‡åœ¨<code class="highlighter-rouge">const</code>å’Œé<code class="highlighter-rouge">const</code>ä¹‹é—´è½¬æ¢</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span> <span class="o">&amp;</span><span class="n">s1</span> <span class="o">=</span> <span class="n">some_string</span><span class="p">;</span>
<span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">c_s1</span> <span class="o">=</span> <span class="k">const_cast</span><span class="o">&lt;</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;&gt;</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span> <span class="c1">//s1ä»non-constè½¬åˆ°äº†const</span>
<span class="n">string</span> <span class="o">&amp;</span><span class="n">s2</span> <span class="o">=</span> <span class="n">const_const</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&amp;&gt;</span><span class="p">(</span><span class="n">c_s1</span><span class="p">);</span> <span class="c1">//c_s1ä»constè½¬æ¢æˆäº†non-const </span>
</code></pre></div></div>

<h4 id="ç¼ºçœå‡½æ•°">ç¼ºçœå‡½æ•°</h4>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">func</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">z</span><span class="o">=</span><span class="mi">2</span><span class="p">){}</span>
<span class="n">func</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> 
<span class="n">func</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">func</span><span class="p">(</span><span class="mi">10</span><span class="p">,,</span><span class="mi">9</span><span class="p">);</span><span class="c1">//error</span>
</code></pre></div></div>
<blockquote>
  <p>å°½é‡åœ¨å‡½æ•°å£°æ˜æ—¶æŒ‡å®šå½¢å‚çš„é»˜è®¤å€¼</p>
</blockquote>

<h4 id="constexprå‡½æ•°">constexprå‡½æ•°</h4>

<p><mark>C++11</mark>æä¾›äº†ä¸€ç§<code class="highlighter-rouge">constexpr</code>å‡½æ•°ï¼Œ<mark>å®ƒçš„ç›®çš„æ˜¯ç”¨äºå¸¸é‡è¡¨è¾¾å¼</mark>ã€‚å®ƒè¦æ±‚å‡½æ•°çš„è¿”å›å€¼ï¼Œå½¢å‚éƒ½æ˜¯å¸¸é‡ï¼Œå‡½æ•°ä½“åªèƒ½æœ‰ä¸€ä¸ª<code class="highlighter-rouge">return</code>è¯­å¥ã€‚å…¶ç›®çš„æ˜¯è®©ç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™å³å¯å°†å‡½æ•°å±•å¼€ï¼Œæ›¿æ¢å…¶æ‰§è¡Œç»“æœï¼š</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">constexpr</span> <span class="kt">int</span> <span class="nf">new_size</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span>
<span class="k">constexpr</span> <span class="kt">int</span> <span class="n">foo</span> <span class="o">=</span> <span class="n">new_size</span><span class="p">();</span> <span class="c1">//æ­£ç¡®ï¼Œfooæ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">constexpr</code>çš„è¿”å›å€¼å¯ä»¥ä¸ä¸€å®šæ˜¯å¸¸é‡ï¼Œåªè¦ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶èƒ½è‡ªåŠ¨æ¨æ–­å³å¯:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">constexpr</span> <span class="kt">size_t</span> <span class="nf">scale</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">cnt</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="n">new_size</span><span class="p">()</span><span class="o">*</span><span class="n">cnt</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">arr</span><span class="p">[</span><span class="n">scale</span><span class="p">(</span><span class="mi">2</span><span class="p">)];</span> <span class="c1">//æ­£ç¡®ï¼Œscale(2)æ˜¯å¸¸é‡è¡¨è¾¾å¼</span>
<span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">arr2</span><span class="p">[</span><span class="n">scale</span><span class="p">(</span><span class="n">i</span><span class="p">)];</span> <span class="c1">//é”™è¯¯ï¼Œiæ— æ³•å†ç¼–è¯‘å™¨æ¨æ–­ï¼Œscale(i)ä¸æ˜¯å¸¸é‡è¡¨è¾¾å¼</span>
</code></pre></div></div>

<blockquote>
  <p>å¯¹äºconstexprå‡½æ•°å’Œinlineå‡½æ•°ï¼Œç¼–è¯‘å™¨è¦å±•å¼€å®ƒä»¬çš„å†…å®¹ä»…æœ‰å£°æ˜æ—¶ä¸å¤Ÿçš„ï¼Œå› æ­¤å®ƒä»¬é€šå¸¸å®šä¹‰åœ¨å¤´æ–‡ä»¶å†…</p>
</blockquote>

<h4 id="å‡½æ•°è°ƒè¯•">å‡½æ•°è°ƒè¯•</h4>

<ul>
  <li>ä½¿ç”¨<code class="highlighter-rouge">assert</code>
    <ul>
      <li>å¤´æ–‡ä»¶:<code class="highlighter-rouge">&lt;cassert&gt;</code></li>
      <li>å®šä¹‰ï¼š<code class="highlighter-rouge">assert(expr)</code>æ˜¯ä¸€ä¸ªé¢„å¤„ç†<mark>å®å®šä¹‰</mark>
        <ul>
          <li><code class="highlighter-rouge">expr</code>æ±‚å€¼è¿”å›0ï¼Œåˆ™<code class="highlighter-rouge">assert</code>æŠ¥é”™ï¼Œç»ˆæ­¢ç¨‹åº</li>
          <li><code class="highlighter-rouge">expr</code>æ±‚å€¼è¿”å›é0ï¼Œ<code class="highlighter-rouge">assert</code>ä»€ä¹ˆä¹Ÿä¸åš</li>
        </ul>

        <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">assert</span><span class="p">(</span><span class="n">word</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">);</span> <span class="c1">//æŠ¥é”™</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>ä½¿ç”¨<code class="highlighter-rouge">NDEBUG</code></li>
</ul>

<p><code class="highlighter-rouge">assert</code>çš„å¼€å…³ï¼Œå¦‚æœå®šä¹‰äº†<code class="highlighter-rouge">NDEBUG</code>ï¼Œåˆ™<code class="highlighter-rouge">assert</code>å¤±æ•ˆã€‚ä¹Ÿå¯ä»¥ä½œä¸ºè°ƒè¯•å¼€å…³</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">print</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">ia</span><span class="p">[],</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">){</span>
	<span class="cp">#ifndef NDEBUGE
</span>		<span class="n">cerr</span><span class="o">&lt;&lt;</span><span class="n">__func__</span><span class="o">&lt;&lt;</span><span class="s">": array_size is "</span><span class="o">&lt;&lt;</span> <span class="n">size</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
	<span class="cp">#endif
</span><span class="p">}</span>
</code></pre></div></div>

<h4 id="å‡½æ•°æŒ‡é’ˆ">å‡½æ•°æŒ‡é’ˆ</h4>

<ul>
  <li>å®šä¹‰ï¼š <code class="highlighter-rouge">Type (*func) (paramerter_list )</code>:</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">bool</span> <span class="nf">lengthCompare</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="p">,</span> <span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="p">);</span>
</code></pre></div></div>
<p>å®ƒçš„ç±»å‹ä¸ºï¼š<code class="highlighter-rouge">bool(const string&amp;, const string&amp;)</code>ï¼Œå‡½æ•°æŒ‡é’ˆåªéœ€è¦è¡¥å……ä¸Šå‡½æ•°å:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">fp</span><span class="p">)</span> <span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>å½“æŠŠå‡½æ•°åä½œä¸ºå€¼ä½¿ç”¨æ—¶ï¼Œè¯¥å‡½æ•°åè‡ªåŠ¨è½¬ä¸ºæŒ‡é’ˆ</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pf</span> <span class="o">=</span> <span class="n">lengthCompare</span><span class="p">;</span> <span class="c1">//pfæŒ‡å‘lengthCompareå‡½æ•°</span>
<span class="n">pf</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">lengthCompare</span><span class="p">;</span> <span class="c1">//ç­‰ä»·è¯­å¥ï¼Œå–åœ°å€ç¬¦å·å¯é€‰</span>

<span class="kt">bool</span> <span class="n">b1</span><span class="o">=</span> <span class="n">pf</span><span class="p">(</span><span class="s">"hello"</span><span class="p">,</span><span class="s">"goodbye"</span><span class="p">);</span>  <span class="c1">//è°ƒç”¨lengthComparå‡½æ•°</span>
<span class="kt">bool</span> <span class="n">b2</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">pf</span><span class="p">)(</span><span class="s">"hello"</span><span class="p">,</span><span class="s">"goodbye"</span><span class="p">);</span> <span class="c1">//ç­‰ä»·è°ƒç”¨</span>
</code></pre></div></div>

<ul>
  <li>ç”¨ä½œå‡½æ•°çš„å½¢å‚</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å‡½æ•°ç±»å‹ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†å…¶è½¬æˆå‡½æ•°æŒ‡é’ˆ</span>
<span class="kt">void</span> <span class="nf">useBigger</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">s1</span><span class="p">,</span> <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">s2</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">pf</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="n">s1</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">str</span><span class="p">));</span>
<span class="c1">//ç­‰ä»·å£°æ˜ï¼Œæ˜¾å¼çš„å°†å½¢å‚å£°æ˜ç§°å‡½æ•°æŒ‡é’ˆ</span>
<span class="kt">void</span> <span class="nf">useBigger</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">s1</span><span class="p">,</span> <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">s2</span><span class="p">,</span> <span class="kt">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">pf</span><span class="p">)(</span><span class="k">const</span> <span class="n">string</span> <span class="n">s1</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">str</span><span class="p">));</span>
</code></pre></div></div>
<p>ä¸Šé¢å£°æ˜å¤ªè¿‡å¤æ‚ï¼Œå¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">typedef</code>å’Œ<code class="highlighter-rouge">decltype</code>ç®€åŒ–</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Funcå’ŒFunc2æ˜¯å‡½æ•°ç±»å‹</span>
<span class="k">typedef</span> <span class="kt">bool</span> <span class="nf">Func</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span><span class="p">);</span>
<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">compareLength</span><span class="p">)</span> <span class="n">Func2</span><span class="p">;</span> <span class="c1">//ç­‰ä»·ç±»å‹</span>

<span class="c1">//Funcpå’ŒFuncp2æ˜¯å‡½æ•°æŒ‡é’ˆ</span>
<span class="k">typedef</span> <span class="nf">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">Funcp</span><span class="p">)(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span><span class="p">,</span> <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span><span class="p">);</span>
<span class="k">typedef</span> <span class="k">decltype</span><span class="p">(</span><span class="n">compareLength</span><span class="p">)</span> <span class="o">*</span><span class="n">Funcp2</span><span class="p">;</span> <span class="c1">//ç­‰ä»·ç±»å‹</span>
</code></pre></div></div>

<blockquote>
  <p>æ³¨æ„ï¼šå‡½æ•°ç±»å‹å’Œå‡½æ•°æŒ‡é’ˆç±»å‹ä¸ä¸€æ ·</p>
</blockquote>

<ul>
  <li>ç”¨ä½œå‡½æ•°çš„è¿”å›å€¼</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="n">F</span> <span class="o">=</span> <span class="kt">int</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span><span class="p">);</span> <span class="c1">//Fæ˜¯å‡½æ•°çš„ç±»å‹</span>
<span class="k">using</span> <span class="n">FP</span> <span class="o">=</span> <span class="kt">int</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="kt">int</span><span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span><span class="p">);</span> <span class="c1">//FPæ˜¯å‡½æ•°æŒ‡é’ˆ</span>

<span class="n">F</span><span class="o">*</span> <span class="nf">f1</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>
<span class="n">FP</span> <span class="nf">f1</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>
</code></pre></div></div>
<p>ç„¶è€Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥å£°æ˜<code class="highlighter-rouge">f1</code>:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">f1</span><span class="p">(</span><span class="kt">int</span><span class="p">))(</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">);</span>
</code></pre></div></div>
<p>ä»å†…å‘å¤–è¯»:</p>

<ol>
  <li><code class="highlighter-rouge">f1</code>æœ‰å½¢å‚åˆ—è¡¨ï¼Œè¯´æ˜f1æ˜¯ä¸€ä¸ªå‡½æ•°</li>
  <li><code class="highlighter-rouge">f1</code>å·¦è¾¹æœ‰<code class="highlighter-rouge">*</code>è¯´æ˜å®ƒçš„è¿”å›å€¼æ˜¯æŒ‡é’ˆ</li>
  <li>æŒ‡é’ˆä¹Ÿæœ‰å½¢å‚åˆ—è¡¨ï¼Œè¯´æ˜è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ</li>
</ol>

<ul>
  <li>ä½¿ç”¨å°¾è¿”å›ç±»å‹è¡¨ç¤º</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">auto</span> <span class="nf">f1</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="kt">int</span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>ä½¿ç”¨<code class="highlighter-rouge">decltype</code></li>
</ul>

<p>å½“æœ‰ä¸¤ä¸ªå‡½æ•°ç­¾åä¸€è‡´çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªå‡½æ•°åœ¨è¿è¡Œæ—¶æ ¹æ®æ¡ä»¶è¿”å›è¿™ä¸¤ä¸ªå‡½æ•°ä¸­çš„ä»»æ„ä¸€ä¸ª</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span><span class="o">::</span><span class="n">size_type</span> <span class="nf">sumLength</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">s1</span><span class="p">,</span> <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">s2</span><span class="p">);</span>
<span class="n">string</span><span class="o">::</span><span class="n">size_type</span> <span class="nf">largerLength</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">s1</span><span class="p">,</span> <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">s2</span><span class="p">);</span>

<span class="c1">//æ ¹æ®å½¢å‚å€¼ï¼Œæ¥è¿”å›sumLengthæˆ–è€…largeLength</span>
<span class="k">decltype</span><span class="p">(</span><span class="n">sumLength</span><span class="p">)</span> <span class="o">*</span><span class="n">getFcn</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="p">);</span>
</code></pre></div></div>

<blockquote>
  <p>æ³¨æ„ï¼Œdecltype(sumLength)è¿”å›çš„æ˜¯å‡½æ•°ç±»å‹ï¼Œå› æ­¤éœ€è¦åŠ ä¸Š*ï¼Œè¡¨æ˜è¿”å›çš„æ˜¯æŒ‡é’ˆã€‚</p>
</blockquote>

<h2 id="ç±»">ç±»</h2>

<ul>
  <li>å…³é”®å­—<code class="highlighter-rouge">class</code>å’Œ<code class="highlighter-rouge">struct</code>
    <ul>
      <li>å”¯ä¸€åŒºåˆ«æ˜¯é»˜è®¤çš„è®¿é—®æƒé™
        <ul>
          <li>ä½¿ç”¨<code class="highlighter-rouge">struct</code>ï¼Œ è®¿é—®è¯´æ˜ç¬¦ä¹‹å‰çš„æˆå‘˜éƒ½æ˜¯publicçš„ï¼›ä½¿ç”¨<code class="highlighter-rouge">class</code>è¿™äº›æˆå‘˜æ˜¯privateçš„</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="æ„é€ å‡½æ•°">æ„é€ å‡½æ•°</h3>

<ul>
  <li>å¯¹è±¡ä¸è®ºä»¥ä»€ä¹ˆæ ·çš„å½¢å¼åˆ›å»ºéƒ½ä¼šè°ƒç”¨æ„é€ å‡½æ•°</li>
  <li>æˆå‘˜å‡½æ•°çš„ä¸€ç§
    <ul>
      <li>åå­—ä¸ç±»åç›¸åŒï¼Œå¯ä»¥æœ‰å‚æ•°ï¼Œä¸èƒ½æœ‰è¿”å›å€¼
        <ul>
          <li>ä½œç”¨æ˜¯å¯¹å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Œç»™æˆå‘˜å˜é‡èµ‹å€¼</li>
          <li>å¦‚æœæ²¡å®šä¹‰æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„æ— å‚æ•°çš„æ„é€ å‡½æ•°</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>é»˜è®¤æ„é€ å‡½æ•°</strong>
    <ul>
      <li>å½“ç±»æ²¡æœ‰è‡ªå®šä¹‰æ„é€ å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆsynthesized default constructorï¼‰,
        <ul>
          <li>å½“å£°æ˜äº†è‡ªå®šä¹‰æ„é€ å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¸ä¼šæä¾›é»˜è®¤çš„æ„é€ å‡½æ•°ï¼Œéœ€è¦è‡ªå·±åˆ¶å®š</li>
          <li><mark>C++ 11</mark>å¯ä»¥åœ¨å‚æ•°åˆ—è¡¨åé¢ä½¿ç”¨<code class="highlighter-rouge">=default</code>æ¥è¦æ±‚ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°</li>
        </ul>

        <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">struct</span> <span class="n">Sales_data</span><span class="p">{</span>
      <span class="n">Sales_data</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
      <span class="n">Sales_data</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">isbn</span><span class="p">);</span>
      <span class="p">...</span>
  <span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°</li>
    </ul>

    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">Sales_data</span> <span class="n">obj</span><span class="p">;</span>
  <span class="n">Sales_data</span> <span class="nf">obj</span><span class="p">();</span>  <span class="c1">//wrong!ï¼Œå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°</span>
</code></pre></div>    </div>
  </li>
  <li><strong>æ‹·è´æ„é€ å‡½æ•°</strong>
    <ul>
      <li><code class="highlighter-rouge">X::X(X&amp; x)</code>, ä¸€å®šæ˜¯è¯¥ç±»å¯¹è±¡çš„å¼•ç”¨</li>
      <li><code class="highlighter-rouge">X::X(const X&amp; x)</code> ï¼Œä¸€å®šæ˜¯è¯¥ç±»å¯¹è±¡çš„å¼•ç”¨</li>
      <li>ä¸‰ç§æƒ…å†µä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°
        <ul>
          <li>ç”¨ä¸€ä¸ªå¯¹è±¡å»åˆå§‹åŒ–åŒç±»çš„å¦ä¸€ä¸ªå¯¹è±¡</li>
        </ul>

        <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">Complex</span> <span class="nf">c1</span><span class="p">(</span><span class="n">c2</span><span class="p">);</span> 
  <span class="n">Complex</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">c2</span><span class="p">;</span> <span class="c1">//è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œéèµ‹å€¼ï¼ŒComplex c2; c2 = c1; //è¿™æ˜¯èµ‹å€¼</span>
</code></pre></div>        </div>
        <ul>
          <li>å‡½æ•°ä¼ å‚æ—¶ï¼Œå¦‚æœå‡½æ•°å‚æ•°æ˜¯ç±»Açš„å¯¹è±¡ï¼Œåˆ™ä¼ å‚çš„æ—¶å€™ä¼šè°ƒç”¨æ‹·è´æ„é€ </li>
        </ul>

        <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kt">void</span> <span class="nf">func</span><span class="p">(</span><span class="n">A</span> <span class="n">a</span><span class="p">){</span> <span class="p">...</span> <span class="p">}</span>
  <span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
      <span class="n">A</span> <span class="n">a2</span><span class="p">;</span>
      <span class="n">func</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
  <span class="p">}</span>
</code></pre></div>        </div>

        <ul>
          <li>ç±»Aåšå‡½æ•°è¿”å›å€¼æ—¶ï¼Œä¼šè°ƒç”¨æ‹·è´æ„é€ </li>
        </ul>

        <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">A</span> <span class="nf">func</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">){</span>
      <span class="n">A</span> <span class="n">b</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
      <span class="k">return</span> <span class="n">b</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
      <span class="n">A</span> <span class="n">a1</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>å¦‚æœæ²¡æœ‰å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œåˆ™ç³»ç»Ÿé»˜è®¤ç”Ÿæˆä¸€ä¸ª</li>
      <li>æ‹·è´æ„é€ å‡½æ•°ï¼Œå¦‚æœæ¶‰åŠæˆå‘˜å˜é‡æŒ‡å‘ä¸€ç‰‡å†…å­˜ç©ºé—´çš„ï¼Œéœ€è¦ä½¿ç”¨æ·±æ‹·è´ï¼Œèµ‹å€¼è¢«æ‹·è´å¯¹è±¡çš„å†…å­˜ç©ºé—´</li>
    </ul>
  </li>
  <li><strong>ç±»å‹è½¬æ¢æ„é€ å‡½æ•°</strong>
    <ul>
      <li>å¦‚æœæ„é€ å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå®ƒå®é™…ä¸Šå®šä¹‰äº†éšå¼çš„ç±»ç±»å‹è½¬æ¢æœºåˆ¶</li>
      <li><mark>ä¸æ˜¯æ‹·è´æ„é€ å‡½æ•°</mark></li>
      <li><code class="highlighter-rouge">explicit</code>å…³é”®å­—
        <ul>
          <li>å¦‚æœä½¿ç”¨<code class="highlighter-rouge">explicit</code>å…³é”®å­—å£°æ˜äº†è¯¥æ„é€ å‡½æ•°ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨éšå¼åˆå§‹åŒ–</li>
          <li><code class="highlighter-rouge">explicity</code>ä»…å¯¹æœ‰ä¸€ä¸ªå®å‚çš„æ„é€ å‡½æ•°èµ·ä½œç”¨</li>
        </ul>
      </li>
    </ul>

    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">B</span><span class="p">{</span>
  <span class="nl">public:</span>
      <span class="kt">int</span> <span class="n">m</span><span class="p">;</span>
      <span class="n">string</span> <span class="n">s</span><span class="p">;</span>
      <span class="n">B</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span><span class="o">:</span><span class="n">m</span><span class="p">(</span><span class="n">x</span><span class="p">){</span>
          <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">m</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
      <span class="p">};</span>
      <span class="k">explicit</span> <span class="n">B</span><span class="p">(</span><span class="n">string</span> <span class="n">ss</span><span class="p">)</span><span class="o">:</span><span class="n">s</span><span class="p">(</span><span class="n">ss</span><span class="p">){</span>
          <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">s</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">};</span>
  <span class="n">B</span> <span class="n">b1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">// ç›¸å½“äº B tmp(10); B b1 = tmp;</span>
  <span class="n">B</span> <span class="n">b2</span> <span class="o">=</span> <span class="s">"abc"</span><span class="p">;</span> <span class="c1">// Wrong!</span>
</code></pre></div>    </div>
  </li>
  <li><strong>å§”æ‰˜æ„é€ å‡½æ•°</strong>
    <ul>
      <li><mark>C++ 11</mark>æä¾›äº†å§”æ‰˜æ„é€ å‡½æ•°ï¼Œè¯¥ç±»æ„é€ å‡½æ•°å¯ä»¥è°ƒç”¨å…¶å®ƒæ„é€ å‡½æ•°</li>
    </ul>

    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">Sales_data</span><span class="p">{</span>
      <span class="nl">public:</span>
          <span class="n">Sales_data</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">cnt</span><span class="p">,</span> <span class="kt">double</span> <span class="n">price</span><span class="p">){</span>
              <span class="c1">//...</span>
          <span class="p">}</span>
          <span class="n">Sales_data</span><span class="p">()</span><span class="o">:</span><span class="n">Sales_data</span><span class="p">(</span><span class="s">""</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">){</span> <span class="c1">//... } //è°ƒç”¨ç¬¬ä¸€ä¸ªæ„é€ å‡½æ•°</span>
          <span class="n">Sales_data</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span><span class="o">:</span> <span class="n">Sales_data</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">){</span> <span class="c1">//... } //è°ƒç”¨ç¬¬ä¸€ä¸ªæ„é€ å‡½æ•°</span>
  <span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="å‹å…ƒ">å‹å…ƒ</h3>

<ul>
  <li>ç±»å…è®¸å…¶ä»–ç±»æˆ–è€…å‡½æ•°è®¿é—®ä»–çš„éå…¬æœ‰æˆå‘˜ï¼Œæ–¹æ³•æ˜¯ä»¤å…¶ä»–ç±»æˆ–è€…å‡½æ•°æˆä¸ºå®ƒçš„å‹å‘˜
    <ul>
      <li>å‹å…ƒå‡½æ•°</li>
      <li>å‹å…ƒç±»</li>
    </ul>
  </li>
  <li><mark>å‹å‘˜å±æ€§ä¸å¯ä¼ é€’å’Œç»§æ‰¿</mark></li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Car</span>
<span class="p">{</span>
<span class="nl">private:</span>
	<span class="kt">int</span> <span class="n">price</span><span class="p">;</span>
<span class="nl">public:</span>
	<span class="n">Car</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">)</span><span class="o">:</span><span class="n">price</span><span class="p">(</span><span class="n">p</span><span class="p">){}</span>

<span class="c1">//å‹å…ƒå‡½æ•°å£°æ˜ï¼Œå…è®¸è¿™ä¸ªå‡½æ•°è®¿é—®`price`æˆå‘˜</span>
<span class="k">friend</span> <span class="kt">int</span> <span class="n">mostExpensiveCar</span><span class="p">(</span><span class="n">Car</span><span class="o">*</span> <span class="n">pCar</span><span class="p">);</span>
<span class="c1">//å‹å…ƒç±»å£°æ˜ï¼Œå…è®¸è¿™ä¸ªç±»è®¿é—®ç§æœ‰æˆå‘˜</span>
<span class="k">friend</span> <span class="k">class</span> <span class="nc">Driver</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">//åªè¦å‡½æ•°ç­¾åèƒ½å¯¹ä¸Šå°±å¯ä»¥è®¿é—®</span>
<span class="kt">int</span> <span class="nf">mostExpensiveCar</span><span class="p">(</span><span class="n">Car</span><span class="o">*</span> <span class="n">pCar</span><span class="p">){</span>
	<span class="c1">//è®¿é—®carçš„ç§æœ‰æˆå‘˜</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"Car.price:%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">pCar</span><span class="o">-&gt;</span><span class="n">price</span><span class="p">);</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">Driver</span><span class="p">{</span>
<span class="nl">public:</span>
	<span class="kt">void</span> <span class="n">getCarPrice</span><span class="p">(</span><span class="n">Car</span><span class="o">*</span> <span class="n">pCar</span><span class="p">){</span> <span class="c1">//Driveræ˜¯Carçš„å‹å…ƒç±»ï¼Œå¯ä»¥è®¿é—®å…¶ç§æœ‰æˆå‘˜</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">"%s_Car.price:%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">__FUNCTION__</span><span class="p">,</span><span class="n">pCar</span><span class="o">-&gt;</span><span class="n">price</span><span class="p">);</span>
	<span class="p">};</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="ææ„å‡½æ•°">ææ„å‡½æ•°</h3>

<h3 id="ç±»æˆå‘˜">ç±»æˆå‘˜</h3>

<ul>
  <li><strong>ä½¿ç”¨<code class="highlighter-rouge">typedef</code>æˆ–è€…<code class="highlighter-rouge">using</code></strong></li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nf">Screen</span><span class="p">(){</span>
	<span class="k">typedef</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">size_type</span> <span class="n">pos1</span><span class="p">;</span>
	<span class="k">using</span> <span class="n">pos2</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">size_type</span>
<span class="p">};</span>
</code></pre></div></div>
<ul>
  <li><strong>å¯å˜æ•°æ®æˆå‘˜</strong>
    <ul>
      <li>ä½¿ç”¨<code class="highlighter-rouge">immutable</code>å…³é”®å­—å£°æ˜æŸä¸ªæˆå‘˜ï¼Œå…è®¸å®ƒåœ¨constæˆå‘˜å‡½æ•°å†…è¢«ä¿®æ”¹</li>
    </ul>

    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nf">Screen</span><span class="p">(){</span>
      <span class="nl">public:</span> 
          <span class="kt">void</span> <span class="n">some_member</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
      <span class="nl">private:</span>
          <span class="k">mutable</span> <span class="kt">size_t</span> <span class="n">access_str</span><span class="p">;</span> <span class="c1">//å³ä½¿åœ¨constå‡½æ•°å†…ä¹Ÿå¯ä»¥è¢«ä¿®æ”¹</span>
  <span class="p">};</span>
  <span class="kt">void</span> <span class="n">Screen</span><span class="o">::</span><span class="n">some_member</span><span class="p">()</span> <span class="k">const</span><span class="p">{</span>
      <span class="o">++</span><span class="n">access_str</span><span class="p">;</span> 
  <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>ç±»å†…åˆå§‹åŒ–</strong>
  <mark>C++ 11</mark>æ”¯æŒæˆå‘˜åœ¨ç±»å†…å£°æ˜æ—¶èµ‹åˆå€¼</p>
  </li>
  <li><strong>å°é—­ç±»</strong>
    <ul>
      <li>ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡æ˜¯å¦ä¸€ä¸ªç±»å¯¹è±¡ï¼ŒåŒ…å«æˆå‘˜å¯¹è±¡çš„ç±»å«å°é—­ç±»</li>
    </ul>

    <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">Car</span><span class="p">{</span>
  <span class="nl">private:</span>
      <span class="kt">int</span> <span class="n">price</span><span class="p">;</span>
      <span class="n">Engine</span> <span class="n">engine</span><span class="p">;</span>
  <span class="nl">public:</span>
      <span class="n">Car</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="c1">//åˆå§‹åŒ–åˆ—è¡¨</span>
  <span class="n">Car</span><span class="o">::</span><span class="n">Car</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span><span class="o">:</span><span class="n">price</span><span class="p">(</span><span class="n">a</span><span class="p">),</span><span class="n">engine</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">){};</span>
  <span class="c1">//è¿™ç§æƒ…å†µï¼ŒCarç±»å¿…é¡»è¦å®šä¹‰æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–engine</span>
  <span class="c1">//å¦‚æœä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨æ— æ³•çŸ¥é“Engineç±»å¯¹è±¡è¯¥å¦‚ä½•åˆå§‹åŒ–ã€‚</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="ç±»æˆå‘˜å‡½æ•°">ç±»æˆå‘˜å‡½æ•°</h3>

<ul>
  <li><strong>å†…è”æˆå‘˜å‡½æ•°</strong>
    <ul>
      <li><mark>å®šä¹‰åœ¨ç±»å†…éƒ¨çš„æˆå‘˜å‡½æ•°æ˜¯è‡ªåŠ¨`inline`çš„</mark></li>
      <li>æ˜¾å¼ä½¿ç”¨<code class="highlighter-rouge">inline</code>å…³é”®å­—çš„å£°æ˜
        <ul>
          <li>å¯åœ¨ç±»å†…éƒ¨ï¼Œä¹Ÿå¯åœ¨å¤–éƒ¨å®šä¹‰æ—¶å£°æ˜</li>
        </ul>
      </li>
    </ul>

    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">B</span><span class="p">{</span>
      <span class="kr">inline</span> <span class="kt">void</span> <span class="n">func1</span><span class="p">();</span> <span class="c1">//æ˜¾å¼inline</span>
      <span class="kt">void</span> <span class="n">func2</span><span class="p">(){...}</span> <span class="c1">//éšå¼inline</span>
      <span class="kt">void</span> <span class="n">func3</span><span class="p">();</span>
  <span class="p">};</span>
  <span class="kt">void</span> <span class="n">B</span><span class="o">::</span><span class="n">func1</span><span class="p">(){...}</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="n">B</span><span class="o">::</span><span class="n">func3</span><span class="p">(){...}</span> <span class="c1">//ä¹Ÿå¯ä»¥åœ¨å‡½æ•°å®šä¹‰å¤„inline</span>
</code></pre></div>    </div>
  </li>
  <li><strong>æˆå‘˜å‡½æ•°æ”¯æŒé‡è½½</strong></li>
</ul>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">class</span> <span class="n">A</span><span class="p">{</span>
	<span class="kt">int</span> <span class="n">value</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">){</span> <span class="k">return</span> <span class="n">x</span><span class="p">;}</span>
	<span class="kt">void</span> <span class="n">value</span><span class="p">(){</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><strong>é™æ€æˆå‘˜å‡½æ•°</strong>
    <ul>
      <li>ç›¸å½“äºç±»æ–¹æ³•ï¼Œä¸ä½œç”¨äºæŸä¸ªå¯¹è±¡ï¼Œæœ¬è´¨ä¸Šæ˜¯å…¨å±€å‡½æ•°</li>
      <li>ä¸èƒ½è®¿é—®éé™æ€æˆå‘˜å˜é‡</li>
      <li>ä¸èƒ½ä½¿ç”¨<code class="highlighter-rouge">this</code>æŒ‡é’ˆï¼Œå®ƒä¸ä½œç”¨äºæŸä¸ªå¯¹è±¡ï¼Œå› æ­¤é™æ€æˆå‘˜å‡½æ•°å°±æ˜¯cè¯­è¨€çš„å…¨å±€å‡½æ•°ï¼Œæ²¡æœ‰å¤šä½™çš„å‚æ•°ã€‚</li>
      <li>è®¿é—®ï¼š
        <ul>
          <li>ä½¿ç”¨ç±»åè®¿é—®ï¼š<code class="highlighter-rouge">ç±»å::æˆå‘˜å</code>: <code class="highlighter-rouge">CRectangle::PrintTotal();</code></li>
          <li>ä½¿ç”¨ç±»å¯¹è±¡è®¿é—®ï¼š<code class="highlighter-rouge">å¯¹è±¡å.æˆå‘˜å</code>: <code class="highlighter-rouge">CRectangle r; r.PrintTotal();</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong><code class="highlighter-rouge">const</code>æˆå‘˜å‡½æ•°</strong>
    <ul>
      <li><mark>`const`æˆå‘˜å‡½æ•°ä¸èƒ½ä¿®æ”¹æˆå‘˜å˜é‡ï¼Œä¸èƒ½è®¿é—®æˆå‘˜å‡½æ•°</mark>
        <ul>
          <li>æœ¬è´¨ä¸Šæ˜¯ä¿®æ”¹äº†<code class="highlighter-rouge">this</code>æŒ‡é’ˆçš„ç±»å‹</li>
        </ul>

        <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">struct</span> <span class="n">Sales_data</span><span class="p">{</span>
			
      <span class="c1">//é»˜è®¤æƒ…å†µä¸‹`this`çš„æŒ‡é’ˆç±»å‹ä¸º`Sales_data* const`ï¼Œæ˜¯ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆã€‚</span>
      <span class="c1">//å¦‚æœè¦æ±‚å®ƒä¸ä¿®æ”¹æˆå‘˜å˜é‡ï¼Œåˆ™å¿…é¡»è¦æ”¹å˜`this`çš„ç±»å‹ä¸ºæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆï¼Œå³`const Sales_data* const`</span>
      <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">isbn</span><span class="p">()</span> <span class="k">const</span><span class="p">{</span>
          <span class="k">return</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">bookNo</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>        </div>

        <ul>
          <li><mark>å®é™…æ„ä¹‰æ˜¯ä¸å…è®¸è¯¥å‡½æ•°ä¿®æ”¹å¯¹è±¡çš„ä»»ä½•çŠ¶æ€</mark></li>
        </ul>
      </li>
      <li><code class="highlighter-rouge">const</code>æˆå‘˜å‡½æ•°ä¹Ÿå¯ä½œä¸ºæ„é€ å‡½æ•°ï¼Œç®—é‡è½½</li>
    </ul>

    <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nc">Hello</span><span class="p">{</span>
  <span class="nl">private:</span>
      <span class="kt">int</span> <span class="n">value</span><span class="p">;</span>
  <span class="nl">public:</span>
          <span class="kt">void</span> <span class="n">getValue</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
          <span class="kt">void</span> <span class="n">foo</span><span class="p">(){}</span>
  <span class="p">};</span>
  <span class="kt">void</span> <span class="n">Hello</span><span class="o">::</span><span class="n">getValue</span><span class="p">()</span> <span class="k">const</span><span class="p">{</span>
      <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="c1">//wrong;</span>
      <span class="n">foo</span><span class="p">();</span> <span class="c1">//error</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
      <span class="k">const</span> <span class="n">Hello</span> <span class="n">o</span><span class="p">;</span>	
      <span class="n">o</span><span class="p">.</span><span class="n">value</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="c1">//wrong!</span>
      <span class="n">o</span><span class="p">.</span><span class="n">getValue</span><span class="p">();</span> <span class="c1">//ok</span>
      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span> 
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="ç±»å¯¹è±¡">ç±»å¯¹è±¡</h3>

<ul>
  <li>å¸¸é‡å¯¹è±¡
    <ul>
      <li>å¸¸é‡å¯¹è±¡ä¸èƒ½ä¿®æ”¹æˆå‘˜æˆå‘˜å˜é‡ï¼Œä¸èƒ½è®¿é—®æˆå‘˜å‡½æ•°</li>
    </ul>

    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">class</span> <span class="nf">Demo</span><span class="p">(){</span>
      <span class="nl">public:</span>
          <span class="n">Demo</span><span class="p">(){}</span> <span class="c1">//å¦‚æœæœ‰å¸¸é‡å¯¹è±¡ï¼Œåˆ™å¿…é¡»è¦æä¾›æ„é€ å‡½æ•°</span>
          <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
          <span class="kt">void</span> <span class="n">func</span><span class="p">(){};</span> <span class="c1">//è™½ç„¶funcæ²¡æœ‰ä¿®æ”¹æ“ä½œï¼Œä½†æ˜¯ç¼–è¯‘å™¨æ— æ³•è¯†åˆ«</span>
  <span class="p">};</span>
  <span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
      <span class="k">const</span> <span class="n">Demo</span> <span class="n">c</span><span class="p">;</span>
      <span class="n">c</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="c1">//wrong!</span>
      <span class="n">c</span><span class="p">.</span><span class="n">func</span><span class="p">();</span> <span class="c1">//wrong</span>
  <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>ä½¿ç”¨å¯¹è±¡å¼•ç”¨ä½œä¸ºå‡½æ•°çš„å‚æ•°</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Sample</span><span class="p">{</span> <span class="p">...</span> <span class="p">};</span>
<span class="kt">void</span> <span class="nf">printSample</span><span class="p">(</span><span class="n">Sample</span><span class="o">&amp;</span> <span class="n">o</span><span class="p">)</span>
<span class="p">{</span>
	<span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å¯¹è±¡å¼•ç”¨ä½œä¸ºå‡½æ•°å‚æ•°æœ‰ä¸€å®šé£é™©ï¼Œå¦‚æœå‡½æ•°ä¸­ä¸å°å¿ƒä¿®æ”¹äº†oï¼Œæ˜¯æˆ‘ä»¬ä¸æƒ³çœ‹åˆ°çš„ã€‚è§£å†³æ–¹æ³•æ˜¯å°†å‡½æ•°å‚æ•°å£°æ˜ä¸ºconstï¼Œè¿™æ ·å°±ç¡®ä¿äº†oçš„å€¼ä¸ä¼šè¢«ä¿®æ”¹</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">printSample</span><span class="p">(</span><span class="k">const</span> <span class="n">Sample</span><span class="o">&amp;</span> <span class="n">o</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="thisæŒ‡é’ˆ">thisæŒ‡é’ˆ</h3>

<ul>
  <li><code class="highlighter-rouge">this</code>æ˜¯ä¸€ä¸ª<mark>å¸¸é‡æŒ‡é’ˆ</mark>ï¼Œåœ°å€ä¸å¯ä¿®æ”¹ï¼Œåœ¨æ—©æœŸc++åˆšå‡ºæ¥æ—¶ï¼Œæ²¡æœ‰ç¼–è¯‘å™¨æ”¯æŒï¼Œå› æ­¤éœ€è¦å°†c++ç¿»è¯‘æˆcæ‰§è¡Œï¼Œä¾‹å¦‚ä¸‹é¢ä¸€æ®µç¨‹åºï¼š</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">Car</span><span class="o">::</span><span class="n">setPrice</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">){</span>
	<span class="n">price</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">//ç¼–è¯‘å™¨å±•å¼€</span>
<span class="kt">void</span> <span class="nf">setPrice</span><span class="p">(</span><span class="k">struct</span> <span class="n">Car</span><span class="o">*</span> <span class="k">this</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">){</span>
	<span class="k">this</span> <span class="o">-&gt;</span> <span class="n">price</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>classå¯¹åº”struct</li>
  <li>æˆå‘˜å‡½æ•°å¯¹åº”å…¨å±€å‡½æ•°ï¼Œå‚æ•°å¤šä¸€ä¸ª<code class="highlighter-rouge">this</code></li>
  <li>æ‰€æœ‰çš„C++ä»£ç éƒ½å¯ä»¥çœ‹åšå…ˆç¿»è¯‘æˆCååœ¨ç¼–è¯‘</li>
</ul>

<p>ç†è§£ä¸‹é¢ä¸€æ®µä»£ç ï¼š</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Hello</span>
<span class="p">{</span>
	<span class="nl">public:</span>
		<span class="kt">void</span> <span class="n">hello</span><span class="p">(){</span><span class="n">printf</span><span class="p">(</span><span class="s">"hello!</span><span class="se">\n</span><span class="s">"</span><span class="p">);};</span>
<span class="p">};</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Hello</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="n">p</span> <span class="o">-&gt;</span> <span class="n">hello</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç¨‹åºä¼šæ­£å¸¸è¾“å‡ºhelloï¼ŒåŸå› æ˜¯æˆå‘˜å‡½æ•°<code class="highlighter-rouge">void hello()</code>ä¼šè¢«ç¼–è¯‘å™¨å¤„ç†ä¸ºï¼š<code class="highlighter-rouge">void hello(Hello* this){printf("hello!\n");}</code>ä¸thisæ˜¯å¦ä¸ºNULLæ²¡å…³ç³»ã€‚</p>

<h3 id="èšåˆç±»aggregate-class">èšåˆç±»ï¼ˆAggregate classï¼‰</h3>

<p>èšåˆç±»æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªæ¡ä»¶ï¼š</p>

<ol>
  <li>æ‰€æœ‰æˆå‘˜éƒ½æ˜¯public</li>
  <li>æ²¡æœ‰å®šä¹‰ä»»ä½•æ„é€ å‡½æ•°</li>
  <li>æ²¡æœ‰ç±»å†…åˆå§‹å€¼</li>
  <li>æ²¡æœ‰åŸºç±»ï¼Œä¹Ÿæ²¡æœ‰virtualå‡½æ•°</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">Data</span><span class="p">{</span>
	<span class="kt">int</span> <span class="n">ival</span><span class="p">;</span>
	<span class="n">string</span> <span class="n">s</span><span class="p">;</span>
<span class="p">};</span>
<span class="c1">//ä½¿ç”¨èšåˆåˆå§‹åŒ–å‡½æ•°</span>
<span class="n">Data</span> <span class="n">val1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="s">"Amna"</span><span class="p">};</span>
</code></pre></div></div>

<h3 id="ç±»çš„é™æ€æˆå‘˜">ç±»çš„é™æ€æˆå‘˜</h3>

<ul>
  <li>è¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«è¿™ä¸ªå˜é‡,æ˜¯å…¨å±€å˜é‡</li>
  <li><mark>sizeofè¿ç®—ç¬¦ä¸ä¼šè®¡ç®—é™æ€æˆå‘˜å˜é‡</mark></li>
  <li>é™æ€æˆå‘˜å¯ä»¥åœ¨ç±»å†…éƒ¨å®šä¹‰ï¼Œä½†æ˜¯åªèƒ½åœ¨ç±»å¤–éƒ¨åˆå§‹åŒ–ï¼Œ<code class="highlighter-rouge">constexpr</code>ç±»å‹çš„é™æ€æˆå‘˜é™¤å¤–ã€‚</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">B</span><span class="p">{</span>
<span class="nl">private:</span>
	<span class="k">static</span> <span class="k">constexpr</span> <span class="kt">int</span> <span class="n">period</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
<span class="nl">public:</span>
	<span class="k">static</span> <span class="kt">void</span> <span class="n">printVal</span><span class="p">();</span>
	<span class="k">static</span> <span class="kt">int</span> <span class="n">val</span><span class="p">;</span> <span class="c1">//ç±»å†…éƒ¨å®šä¹‰é™æ€æˆå‘˜</span>
	<span class="kt">double</span> <span class="n">amount</span><span class="p">;</span>
	<span class="kt">void</span> <span class="n">calculate</span><span class="p">(){</span>
		<span class="n">amount</span> <span class="o">+=</span> <span class="n">val</span><span class="p">;</span> <span class="c1">//æˆå‘˜å‡½æ•°å†…éƒ¨ä¸éœ€è¦é€šè¿‡ç±»ä½œç”¨åŸŸç¬¦å·è®¿é—®é™æ€æˆå‘˜</span>
	<span class="p">}</span>
<span class="p">};</span>
<span class="kt">int</span> <span class="n">B</span><span class="o">::</span><span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">//ç±»å¤–éƒ¨åˆå§‹åŒ–</span>
<span class="kt">void</span> <span class="n">B</span><span class="o">::</span><span class="n">printVal</span><span class="p">(){</span>
	<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">__FUNCTION__</span><span class="o">&lt;&lt;</span><span class="s">"L "</span><span class="o">&lt;&lt;</span><span class="n">B</span><span class="o">::</span><span class="n">val</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">constexpr</span> <span class="kt">int</span> <span class="n">B</span><span class="o">::</span><span class="n">period</span><span class="p">;</span> <span class="c1">//å³ä½¿ä¸€ä¸ªå¸¸é‡é™æ€æ•°æ®æˆå‘˜åœ¨ç±»å†…éƒ¨å·²ç»åˆå§‹åŒ–äº†ï¼Œæœ€å¥½ä¹Ÿè¦åœ¨ç±»å¤–éƒ¨å®šä¹‰ä¸€æ¬¡</span>

<span class="c1">//</span>
<span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">B</span><span class="o">::</span><span class="n">val</span><span class="p">;</span>
<span class="n">B</span><span class="o">::</span><span class="n">printVal</span><span class="p">();</span>
<span class="n">B</span> <span class="n">b</span><span class="p">;</span>
<span class="n">b</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
<span class="n">b</span><span class="p">.</span><span class="n">printVal</span><span class="p">();</span>
</code></pre></div></div>

<h2 id="ioåº“">IOåº“</h2>

<h3 id="ioç±»">IOç±»</h3>
<ul>
  <li>æ ‡å‡†åº“ä¸­ä¸‰ä¸ªç±»
    <ul>
      <li><code class="highlighter-rouge">iostream</code>å®šä¹‰äº†ç”¨äºè¯»å†™æµçš„åŸºæœ¬ç±»å‹
        <ul>
          <li><code class="highlighter-rouge">istream</code>,<code class="highlighter-rouge">wistream</code> ä»æµè¯»å–æ•°æ®
  â€” <code class="highlighter-rouge">ostream</code>,<code class="highlighter-rouge">wostream</code> å‘æµå†™å…¥æ•°æ®</li>
          <li><code class="highlighter-rouge">iostream</code>,<code class="highlighter-rouge">wiostream</code> è¯»å†™æµ</li>
        </ul>
      </li>
      <li><code class="highlighter-rouge">fstream</code>å®šä¹‰äº†è¯»å†™æ–‡ä»¶çš„ç±»å‹
        <ul>
          <li><code class="highlighter-rouge">ifstream</code> : ä»æ–‡ä»¶ä¸­è¯»æ•°æ®</li>
          <li><code class="highlighter-rouge">ofstream</code>: å‘æ–‡ä»¶ä¸­å†™æ•°æ®</li>
          <li><code class="highlighter-rouge">fstream</code>: æ–‡ä»¶è¯»å†™æµ</li>
        </ul>
      </li>
      <li><code class="highlighter-rouge">sstream</code>å®šä¹‰äº†è¯»å†™å†…å­˜<code class="highlighter-rouge">string</code>å¯¹è±¡çš„ç±»å‹
        <ul>
          <li><code class="highlighter-rouge">istringstream</code></li>
          <li><code class="highlighter-rouge">ostreamstream</code></li>
          <li><code class="highlighter-rouge">stringstream</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>ç»§æ‰¿å…³ç³»å¦‚ä¸‹:</li>
</ul>

<p><img src="/assets/images/2008/06/iostream.png" style="margin-left:auto; margin-right:auto;display:block" width="50%" /></p>

<ul>
  <li>æ ‡å‡†æµå¯¹è±¡ï¼š
    <ul>
      <li><code class="highlighter-rouge">cin</code>æ ‡å‡†è¾“å…¥æµï¼Œç”¨äºä»é”®ç›˜è¯»å–æ•°æ®ï¼Œä¹Ÿå¯ä»¥è¢«é‡å®šå‘ä¸ºä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®</li>
      <li><code class="highlighter-rouge">cout</code>å¯¹åº”æ ‡å‡†è¾“å‡ºæµï¼Œç”¨äºå‘å±å¹•è¾“å‡ºæ•°æ®ï¼Œä¹Ÿå¯ä»¥è¢«é‡å®šå‘ä¸ºå‘æ–‡ä»¶å†™å…¥æ•°æ®</li>
      <li><code class="highlighter-rouge">cerr</code>å¯¹åº”æ ‡å‡†é”™è¯¯å¤„è¾“å‡ºæµï¼Œç”¨äºå‘å±å¹•è¾“å‡ºé”™è¯¯ä¿¡æ¯</li>
      <li><code class="highlighter-rouge">clog</code>å¯¹åº”æ ‡å‡†é”™è¯¯è¾“å‡ºæµï¼Œç”¨äºå‘å±å¹•è¾“å‡ºå‡ºé”™ä¿¡æ¯</li>
      <li><code class="highlighter-rouge">cerr</code>å’Œ<code class="highlighter-rouge">clog</code>çš„åŒºåˆ«åœ¨äº<code class="highlighter-rouge">cerr</code>ä¸é€‚ç”¨ç¼“å†²åŒºï¼Œè€Œè¾“å‡ºåˆ°<code class="highlighter-rouge">clog</code>ä¸­çš„ä¿¡æ¯ä¼šå…ˆè¢«å­˜æ”¾åˆ°ç¼“å†²åŒºï¼Œç¼“å†²åŒºæ»¡äº†æ‰åˆ·æ–°åˆ°å±å¹•</li>
    </ul>
  </li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
</span><span class="k">using</span> <span class="n">namepsace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
	<span class="c1">//è¾“å‡ºé‡å®šå‘</span>
	<span class="kt">int</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">;</span>
	<span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x</span><span class="o">&gt;&gt;</span><span class="n">y</span><span class="p">;</span>
	<span class="n">freopen</span><span class="p">(</span><span class="s">"test.txt"</span><span class="p">,</span><span class="s">"w"</span><span class="p">,</span><span class="n">stdout</span><span class="p">);</span> <span class="c1">//å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°test.txtä¸­</span>
	<span class="k">if</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">){</span>
		<span class="n">cerr</span><span class="o">&lt;&lt;</span><span class="s">"error"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span> <span class="c1">//coutè¢«é‡å®šå‘åˆ°æ–‡ä»¶ï¼Œè°ƒè¯•ä¿¡æ¯å¯ä½¿ç”¨cerrè¾“å‡º</span>
	<span class="p">}</span><span class="k">else</span><span class="p">{</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span><span class="p">;</span> <span class="err">å°†ç»“æœè¾“å‡ºåˆ°</span><span class="n">test</span><span class="p">.</span><span class="n">txt</span><span class="err">ä¸­</span>
	<span class="p">}</span>
	
	<span class="c1">//è¾“å…¥é‡å®šå‘</span>
	<span class="kt">double</span> <span class="n">f</span><span class="p">;</span> <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
	<span class="n">freopen</span><span class="p">(</span><span class="s">"t.txt"</span><span class="p">,</span><span class="s">"r"</span><span class="p">,</span><span class="n">stdin</span><span class="p">);</span> <span class="c1">//cinè¢«æ”¹ä¸ºä»t.txtä¸­è¯»å–æ•°æ®</span>
	<span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">f</span><span class="o">&gt;&gt;</span><span class="n">n</span><span class="p">;</span> <span class="c1">//t.txtä¸­çš„æ–‡ä»¶å­˜æ”¾æ ¼å¼è¦ç¬¦åˆcinçš„è¦æ±‚ï¼Œ t.txt: 3.14 123</span>
	<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">f</span><span class="o">&lt;&lt;</span><span class="s">","</span><span class="o">&lt;&lt;</span><span class="n">n</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span> <span class="c1">//3.14,123</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>å‘æ–‡ä»¶ä¸­å†™å…¥<code class="highlighter-rouge">struct</code></li>
</ul>

<h3 id="æ–‡ä»¶æ“ä½œ">æ–‡ä»¶æ“ä½œ</h3>

<ul>
  <li>ç®€å•è¯»å†™æ–‡ä»¶</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fstream</span> <span class="nf">fout</span><span class="p">(</span><span class="s">"text.txt"</span><span class="p">,</span><span class="n">ios</span><span class="o">::</span><span class="n">out</span> <span class="o">|</span> <span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">);</span><span class="c1">//ä½¿ç”¨åŸºç±»fstreamï¼Œéœ€è¦æŒ‡æ˜è¯»å†™ç±»å‹</span>
<span class="c1">//æˆ–è€…ä½¿ç”¨ofstream</span>
<span class="c1">//ostream fout("text.txt");</span>
<span class="k">if</span><span class="p">(</span><span class="n">fout</span><span class="p">.</span><span class="n">is_open</span><span class="p">()){</span>
	<span class="c1">//ä½¿ç”¨æµæ“ä½œç¬¦</span>
	<span class="n">fout</span><span class="o">&lt;&lt;</span><span class="s">"Hello there"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
	<span class="n">fout</span><span class="o">&lt;&lt;</span><span class="mi">123</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
	<span class="n">fout</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
	<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"Could not create file: text.txt"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span> 
<span class="p">}</span>

<span class="c1">//è¯»æ–‡ä»¶</span>
<span class="n">ifstream</span> <span class="nf">fin</span><span class="p">(</span><span class="s">"text.txt"</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="n">fin</span><span class="p">.</span><span class="n">is_open</span><span class="p">()){</span>
	<span class="n">string</span> <span class="n">line</span><span class="p">;</span>
	<span class="c1">//ä½¿ç”¨getline</span>
	<span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">fin</span><span class="p">.</span><span class="n">eof</span><span class="p">()){</span>
		<span class="n">getline</span><span class="p">(</span><span class="n">fin</span><span class="p">,</span> <span class="n">line</span><span class="p">);</span>
		<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">line</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
		<span class="n">fin</span><span class="o">&gt;&gt;</span><span class="n">ws</span><span class="p">;</span> <span class="c1">//æŠ›å¼ƒæ‰lineæœ«å°¾çš„æ¢è¡Œ</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">input</span><span class="p">){</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">fin</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
	<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"Could not read file: text.txt"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<ul>
  <li>è¯»å†™ç»“æ„ä½“
    <ul>
      <li>ç”±äºç¼–è¯‘å™¨æœ‰å†…å­˜å¯¹é½çš„ä¼˜åŒ–ï¼Œå› æ­¤<code class="highlighter-rouge">struct</code>å®é™…çš„sizeå¯èƒ½ä¼šå˜å¤§ï¼Œæ‰€ä»¥éœ€è¦è¦å…ˆå‹ç¼©ç»“æ„ä½“</li>
    </ul>

    <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cp">#pragma pack(push, 1)
</span>  <span class="k">struct</span> <span class="n">Person</span><span class="p">{</span>
      <span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span> <span class="c1">//50 bytes</span>
      <span class="kt">int</span> <span class="n">x</span><span class="p">;</span> <span class="c1">//4 bytes</span>
      <span class="kt">double</span> <span class="n">p</span><span class="p">;</span><span class="c1">//8 bytes</span>
  <span class="p">};</span>
  <span class="cp">#pragma pack(pop) //ç»“æ„ä½“çš„sizeä»64 byteså˜æˆ62bytes
</span>
  <span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
      <span class="c1">//å†™äºŒè¿›åˆ¶æ–‡ä»¶</span>
      <span class="n">Person</span> <span class="n">someone</span><span class="p">{</span><span class="s">"Frodo"</span><span class="p">,</span><span class="mi">220</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">};</span>
      <span class="n">ofstream</span> <span class="n">fout</span><span class="p">{</span><span class="s">"test.bin"</span><span class="p">,</span><span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">};</span> <span class="c1">//äºŒè¿›åˆ¶æ–‡ä»¶</span>
      <span class="n">fout</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">*&gt;</span><span class="p">(</span><span class="o">&amp;</span><span class="n">someone</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">Person</span><span class="p">));</span>
      <span class="n">fout</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>

      <span class="c1">//è¯»äºŒè¿›åˆ¶æ–‡ä»¶</span>
       <span class="n">Person</span> <span class="n">frodo</span> <span class="o">=</span> <span class="p">{};</span>
      <span class="n">ifstream</span> <span class="n">fin</span><span class="p">{</span><span class="s">"test.bin"</span><span class="p">,</span><span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">};</span>
      <span class="n">fin</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">*&gt;</span><span class="p">(</span><span class="o">&amp;</span><span class="n">frodo</span><span class="p">),</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">Person</span><span class="p">));</span>
      <span class="n">fin</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
  <span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="resources">Resources</h2>

<ul>
  <li><a href="">C++ Primer</a></li>
</ul>

:ET